var initEffect=function(t){t=t;var i=document.createElement("canvas"),l=i.width=$("#effect").width(),d=i.height=$("#effect").height(),h=.02,w=50,u=5,y=10,v=.01,p=.1,M=3,x=5,g=1,z=5,m=2*Math.PI/5,I=0,P=[];t.appendChild(i);var s=i.getContext("2d");function S(t,i){return Math.random()*(i-t)+t}z=500<window.innerWidth&&350<window.innerHeight?(g=5,10):5;var T=function(t,i){return parseInt(Math.random()*(1+(t<i?i-t:t-i))+(t<i?t:i))};function W(t,i,e,h,s,o,n,r,a,c,f){this.size=t,this.rotSpeed=i,this.rot=e,this.delay=w+h,this.life=0,this.ox=a,this.oy=c,this.x,this.y,this.vx=n,this.vy=r,this.color=f}W.prototype.use=function(){++this.life,this.life>=this.delay?(this.x+=3*Math.cos(this.rot),this.y+=3*Math.sin(this.rot)):(this.life<=w&&(this.rot+=this.rotSpeed,this.ox+=this.vx,this.oy+=this.vy),this.x=this.ox+Math.cos(this.rot)*this.size,this.y=this.oy+Math.sin(this.rot)*this.size);var t=Math.min(this.life,w)/w;100<this.life&&(t=(200-this.life)/100),s.lineWidth=this.size/3,s.strokeStyle=this.color.replace("alp",t),s.translate(this.x,this.y),s.rotate(this.rot),s.beginPath(),s.moveTo(-this.size/3,-this.size/2),s.lineTo(this.size,0),s.lineTo(-this.size/3,this.size/2),s.stroke(),s.rotate(-this.rot),s.translate(-this.x,-this.y)},function t(){window.requestAnimationFrame(t),++I,s.clearRect(0,0,$("#effect").width(),$("#effect").height()),Math.random()<h&&function(){var t=S(u,y),i=(.5<S(0,1)?-1:1)*S(v,p),e=S(M,x),h=S(0,l),s=S(0,d),o=S(g,z),n=S(0,2*Math.PI),r=Math.cos(n)*o,a=Math.sin(n)*o,c=T(50,100)+"%";color="hsla(hue, 80%, diaosi, alp)".replace("hue",I%360).replace("diaosi",c);for(var f=0;f<5;++f)P.push(new W(t,i,n+m*f,e*f,h+Math.cos(m*f)*t,s+Math.sin(m*f)*t,r,a,h,s,color))}();for(var i=0;i<P.length;++i){var e=P[i];e.use(),(e.x<0||e.x>l||e.y<0||e.y>d||200<e.life)&&(P.splice(i,1),--i)}}(),$(window).bind("resize",function(){z=500<window.innerWidth&&350<window.innerHeight?(g=5,10):4,l=i.width=$("#effect").width(),d=i.height=$("#effect").height(),s.clearRect(0,0,$("#effect").width(),$("#effect").height())})};