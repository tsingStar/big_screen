!function(t){"use strict";t.fn.transitionEnd=function(e){function n(t){if(t.target===this)for(e.call(this,t),i=0;i<a.length;i++)r.off(a[i],n)}var i,a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(e)for(i=0;i<a.length;i++)r.on(a[i],n);return this},t.support={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)},t.touchEvents={start:t.support.touch?"touchstart":"mousedown",move:t.support.touch?"touchmove":"mousemove",end:t.support.touch?"touchend":"mouseup"},t.getTouchPosition=function(t){return"touchstart"===(t=t.originalEvent||t).type||"touchmove"===t.type||"touchend"===t.type?{x:t.targetTouches[0].pageX,y:t.targetTouches[0].pageY}:{x:t.pageX,y:t.pageY}},t.fn.scrollHeight=function(){return this[0].scrollHeight},t.fn.transform=function(t){for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=t}return this},t.fn.transition=function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=t}return this},t.getTranslate=function(t,e){var n,i,a,r;return void 0===e&&(e="x"),a=window.getComputedStyle(t,null),window.WebKitCSSMatrix?r=new WebKitCSSMatrix("none"===a.webkitTransform?"":a.webkitTransform):n=(r=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(i=window.WebKitCSSMatrix?r.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(i=window.WebKitCSSMatrix?r.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),i||0},t.requestAnimationFrame=function(t){return window.requestAnimationFrame?window.requestAnimationFrame(t):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(t):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(t):window.setTimeout(t,1e3/60)},t.cancelAnimationFrame=function(t){return window.cancelAnimationFrame?window.cancelAnimationFrame(t):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(t):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(t):window.clearTimeout(t)},t.fn.join=function(t){return this.toArray().join(t)}}($),function(t){"use strict";t.Template7=t.t7=function(){function w(t){return"[object Array]"===Object.prototype.toString.apply(t)}function r(t){return"function"==typeof t}function y(t){var e,n,i,a=t.replace(/[{}#}]/g,"").split(" "),r=[];for(n=0;n<a.length;n++){var o=a[n];if(0===n)r.push(o);else if(0===o.indexOf('"'))if(2===o.match(/"/g).length)r.push(o);else{for(e=0,i=n+1;i<a.length;i++)if(o+=" "+a[i],0<=a[i].indexOf('"')){e=i,r.push(o);break}e&&(n=e)}else if(0<o.indexOf("=")){var s=o.split("="),c=s[0],l=s[1];if(2!==l.match(/"/g).length){for(e=0,i=n+1;i<a.length;i++)if(l+=" "+a[i],0<=a[i].indexOf('"')){e=i;break}e&&(n=e)}var u=[c,l.replace(/"/g,"")];r.push(u)}else r.push(o)}return r}function a(t){function l(t,e){return t.content?n(t.content,e):function(){return""}}function u(t,e){return t.inverseContent?n(t.inverseContent,e):function(){return""}}function p(t,e){var n,i,a=0;if(0===t.indexOf("../")){a=t.split("../").length-1;var r=e.split("_")[1]-a;e="ctx_"+(1<=r?r:1),i=t.split("../")[a].split(".")}else i=0===t.indexOf("@global")?(e="$.Template7.global",t.split("@global.")[1].split(".")):0===t.indexOf("@root")?(e="ctx_1",t.split("@root.")[1].split(".")):t.split(".");n=e;for(var o=0;o<i.length;o++){var s=i[o];0===s.indexOf("@")?0<o?n+="[(data && data."+s.replace("@","")+")]":n="(data && data."+t.replace("@","")+")":isFinite(s)?n+="["+s+"]":0===s.indexOf("this")?n=s.replace("this",e):n+="."+s}return n}function h(t,e){for(var n=[],i=0;i<t.length;i++)0===t[i].indexOf('"')?n.push(t[i]):n.push(p(t[i],e));return n.join(", ")}function n(t,e){if(e=e||1,"string"!=typeof(t=t||d.template))throw new Error("Template7: Template must be a string");var n=function(t){var e,n,i=[];if(!t)return[];var a=t.split(/({{[^{^}]*}})/);for(e=0;e<a.length;e++){var r=a[e];if(""!==r)if(r.indexOf("{{")<0)i.push({type:"plain",content:r});else{if(0<=r.indexOf("{/"))continue;if(r.indexOf("{#")<0&&r.indexOf(" ")<0&&r.indexOf("else")<0){i.push({type:"variable",contextName:r.replace(/[{}]/g,"")});continue}var o=y(r),s=o[0],c=[],l={};for(n=1;n<o.length;n++){var u=o[n];w(u)?l[u[0]]="false"!==u[1]&&u[1]:c.push(u)}if(0<=r.indexOf("{#")){var p,h="",d="",f=0,m=!1,v=!1,g=0;for(n=e+1;n<a.length;n++)if(0<=a[n].indexOf("{{#")&&g++,0<=a[n].indexOf("{{/")&&g--,0<=a[n].indexOf("{{#"+s))h+=a[n],v&&(d+=a[n]),f++;else if(0<=a[n].indexOf("{{/"+s)){if(!(0<f)){p=n,m=!0;break}f--,h+=a[n],v&&(d+=a[n])}else 0<=a[n].indexOf("else")&&0===g?v=!0:(v||(h+=a[n]),v&&(d+=a[n]));m&&(p&&(e=p),i.push({type:"helper",helperName:s,contextName:c,content:h,inverseContent:d,hash:l}))}else 0<r.indexOf(" ")&&i.push({type:"helper",helperName:s,contextName:c,hash:l})}}return i}(t);if(0===n.length)return function(){return""};var i,a="ctx_"+e,r="(function ("+a+", data) {\n";for(1===e&&(r+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",r+="function isFunction(func){return (typeof func === 'function');}\n",r+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),r+="var r = '';\n",i=0;i<n.length;i++){var o,s,c=n[i];if("plain"!==c.type){if("variable"===c.type&&(r+="r += c("+(o=p(c.contextName,a))+", "+a+");"),"helper"===c.type)if(c.helperName in d.helpers)s=h(c.contextName,a),r+="r += ($.Template7.helpers."+c.helperName+").call("+a+", "+(s&&s+", ")+"{hash:"+JSON.stringify(c.hash)+", data: data || {}, fn: "+l(c,e+1)+", inverse: "+u(c,e+1)+", root: ctx_1});";else{if(0<c.contextName.length)throw new Error('Template7: Missing helper: "'+c.helperName+'"');r+="if ("+(o=p(c.helperName,a))+") {",r+="if (isArray("+o+")) {",r+="r += ($.Template7.helpers.each).call("+a+", "+o+", {hash:"+JSON.stringify(c.hash)+", data: data || {}, fn: "+l(c,e+1)+", inverse: "+u(c,e+1)+", root: ctx_1});",r+="}else {",r+="r += ($.Template7.helpers.with).call("+a+", "+o+", {hash:"+JSON.stringify(c.hash)+", data: data || {}, fn: "+l(c,e+1)+", inverse: "+u(c,e+1)+", root: ctx_1});",r+="}}"}}else r+="r +='"+c.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return r+="\nreturn r;})",eval.call(window,r)}var d=this;d.template=t,d.compile=function(t){return d.compiled||(d.compiled=n(t)),d.compiled}}a.prototype={options:{},helpers:{if:function(t,e){return r(t)&&(t=t.call(this)),t?e.fn(this,e.data):e.inverse(this,e.data)},unless:function(t,e){return r(t)&&(t=t.call(this)),t?e.inverse(this,e.data):e.fn(this,e.data)},each:function(t,e){var n="",i=0;if(r(t)&&(t=t.call(this)),w(t)){for(e.hash.reverse&&(t=t.reverse()),i=0;i<t.length;i++)n+=e.fn(t[i],{first:0===i,last:i===t.length-1,index:i});e.hash.reverse&&(t=t.reverse())}else for(var a in t)i++,n+=e.fn(t[a],{key:a});return 0<i?n:e.inverse(this)},with:function(t,e){return r(t)&&(t=t.call(this)),e.fn(t)},join:function(t,e){return r(t)&&(t=t.call(this)),t.join(e.hash.delimiter||e.hash.delimeter)},js:function(t,e){var n;return n=0<=t.indexOf("return")?"(function(){"+t+"})":"(function(){return ("+t+")})",eval.call(this,n).call(this)},js_compare:function(t,e){var n;return n=0<=t.indexOf("return")?"(function(){"+t+"})":"(function(){return ("+t+")})",eval.call(this,n).call(this)?e.fn(this,e.data):e.inverse(this,e.data)}}};function t(t,e){if(2!==arguments.length)return new a(t);var n=new a(t),i=n.compile()(e);return n=null,i}return t.registerHelper=function(t,e){a.prototype.helpers[t]=e},t.unregisterHelper=function(t){a.prototype.helpers[t]=void 0,delete a.prototype.helpers[t]},t.compile=function(t,e){return new a(t,e).compile()},t.options=a.prototype.options,t.helpers=a.prototype.helpers,t}()}($),function(r,a,t,p){"use strict";function s(t,e,n){return setTimeout(c(t,n),e)}function i(t,e,n){return!!Array.isArray(t)&&(o(t,n[e],n),!0)}function o(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==p)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function e(i,t,e){var a="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),e=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",n=r.console&&(r.console.warn||r.console.log);return n&&n.call(r.console,a,e),i.apply(this,arguments)}}function n(t,e,n){var i,a=e.prototype;(i=t.prototype=Object.create(a)).constructor=t,i._super=a,n&&J(i,n)}function c(t,e){return function(){return t.apply(e,arguments)}}function l(t,e){return typeof t==tt?t.apply(e&&e[0]||p,e):t}function u(t,e){return t===p?e:t}function h(e,t,n){o(v(t),function(t){e.addEventListener(t,n,!1)})}function d(e,t,n){o(v(t),function(t){e.removeEventListener(t,n,!1)})}function f(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return-1<t.indexOf(e)}function v(t){return t.trim().split(/\s+/g)}function g(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function w(t){return Array.prototype.slice.call(t,0)}function y(t,n,e){for(var i=[],a=[],r=0;r<t.length;){var o=n?t[r][n]:t[r];g(a,o)<0&&i.push(t[r]),a[r]=o,r++}return e&&(i=n?i.sort(function(t,e){return t[n]>e[n]}):i.sort()),i}function T(t,e){for(var n,i,a=e[0].toUpperCase()+e.slice(1),r=0;r<Z.length;){if((i=(n=Z[r])?n+a:e)in t)return i;r++}return p}function k(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}function x(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){l(e.options.enable,[e])&&n.handler(t)},this.init()}function _(t,e,n){var i=n.pointers.length,a=n.changedPointers.length,r=e&dt&&i-a==0,o=e&(ft|mt)&&i-a==0;n.isFirst=!!r,n.isFinal=!!o,r&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,a=i.length;n.firstInput||(n.firstInput=C(e)),1<a&&!n.firstMultiple?n.firstMultiple=C(e):1===a&&(n.firstMultiple=!1);var r=n.firstInput,o=n.firstMultiple,s=o?o.center:r.center,c=e.center=b(i);e.timeStamp=it(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=O(s,c),e.distance=D(s,c),function(t,e){var n=e.center,i=t.offsetDelta||{},a=t.prevDelta||{},r=t.prevInput||{};e.eventType!==dt&&r.eventType!==ft||(a=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=a.x+(n.x-i.x),e.deltaY=a.y+(n.y-i.y)}(n,e),e.offsetDirection=E(e.deltaX,e.deltaY);var l=M(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=nt(l.x)>nt(l.y)?l.x:l.y,e.scale=o?function(t,e){return D(e[0],e[1],bt)/D(t[0],t[1],bt)}(o.pointers,i):1,e.rotation=o?function(t,e){return O(e[1],e[0],bt)+O(t[1],t[0],bt)}(o.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,a,r,o=t.lastInterval||e,s=e.timeStamp-o.timeStamp;if(e.eventType!=mt&&(ht<s||o.velocity===p)){var c=e.deltaX-o.deltaX,l=e.deltaY-o.deltaY,u=M(s,c,l);i=u.x,a=u.y,n=nt(u.x)>nt(u.y)?u.x:u.y,r=E(c,l),t.lastInterval=e}else n=o.velocity,i=o.velocityX,a=o.velocityY,r=o.direction;e.velocity=n,e.velocityX=i,e.velocityY=a,e.direction=r}(n,e);var u=t.element;f(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function C(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:et(t.pointers[n].clientX),clientY:et(t.pointers[n].clientY)},n++;return{timeStamp:it(),pointers:e,center:b(e),deltaX:t.deltaX,deltaY:t.deltaY}}function b(t){var e=t.length;if(1===e)return{x:et(t[0].clientX),y:et(t[0].clientY)};for(var n=0,i=0,a=0;a<e;)n+=t[a].clientX,i+=t[a].clientY,a++;return{x:et(n/e),y:et(i/e)}}function M(t,e,n){return{x:e/t||0,y:n/t||0}}function E(t,e){return t===e?vt:nt(t)>=nt(e)?t<0?gt:wt:e<0?yt:Tt}function D(t,e,n){n||(n=Ct);var i=e[n[0]]-t[n[0]],a=e[n[1]]-t[n[1]];return Math.sqrt(i*i+a*a)}function O(t,e,n){n||(n=Ct);var i=e[n[0]]-t[n[0]],a=e[n[1]]-t[n[1]];return 180*Math.atan2(a,i)/Math.PI}function P(){this.evEl=Et,this.evWin=Dt,this.pressed=!1,x.apply(this,arguments)}function A(){this.evEl=At,this.evWin=It,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function I(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,x.apply(this,arguments)}function H(){this.evTarget=Yt,this.targetIds={},x.apply(this,arguments)}function S(){x.apply(this,arguments);var t=c(this.handler,this);this.touch=new H(this.manager,t),this.mouse=new P(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Y(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout(function(){var t=i.indexOf(n);-1<t&&i.splice(t,1)},Vt)}}function V(t,e){this.manager=t,this.set(e)}function N(t){this.options=J({},this.defaults,t||{}),this.id=ot++,this.manager=null,this.options.enable=u(this.options.enable,!0),this.state=$t,this.simultaneous={},this.requireFail=[]}function F(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function q(t){return t==Tt?"down":t==yt?"up":t==gt?"left":t==wt?"right":""}function z(t,e){var n=e.manager;return n?n.get(t):t}function L(){N.apply(this,arguments)}function R(){L.apply(this,arguments),this.pX=null,this.pY=null}function j(){L.apply(this,arguments)}function X(){N.apply(this,arguments),this._timer=null,this._input=null}function $(){L.apply(this,arguments)}function W(){L.apply(this,arguments)}function K(){N.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function U(t,e){return(e=e||{}).recognizers=u(e.recognizers,U.defaults.preset),new B(t,e)}function B(t,e){this.options=J({},U.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){var e=t.options.inputClass;return new(e||(ct?A:lt?H:st?S:P))(t,_)}(this),this.touchAction=new V(this,this.options.touchAction),G(this,!0),o(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function G(n,i){var a,r=n.element;r.style&&(o(n.options.cssProps,function(t,e){a=T(r.style,e),i?(n.oldCssProps[a]=r.style[a],r.style[a]=t):r.style[a]=n.oldCssProps[a]||""}),i||(n.oldCssProps={}))}var J,Z=["","webkit","Moz","MS","ms","o"],Q=a.createElement("div"),tt="function",et=Math.round,nt=Math.abs,it=Date.now;J="function"!=typeof Object.assign?function(t){if(t===p||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==p&&null!==i)for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a])}return e}:Object.assign;var at=e(function(t,e,n){for(var i=Object.keys(e),a=0;a<i.length;)(!n||n&&t[i[a]]===p)&&(t[i[a]]=e[i[a]]),a++;return t},"extend","Use `assign`."),rt=e(function(t,e){return at(t,e,!0)},"merge","Use `assign`."),ot=1,st="ontouchstart"in r,ct=T(r,"PointerEvent")!==p,lt=st&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ut="touch",pt="mouse",ht=25,dt=1,ft=4,mt=8,vt=1,gt=2,wt=4,yt=8,Tt=16,kt=gt|wt,xt=yt|Tt,_t=kt|xt,Ct=["x","y"],bt=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(k(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(k(this.element),this.evWin,this.domHandler)}};var Mt={mousedown:dt,mousemove:2,mouseup:ft},Et="mousedown",Dt="mousemove mouseup";n(P,x,{handler:function(t){var e=Mt[t.type];e&dt&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=ft),this.pressed&&(e&ft&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:pt,srcEvent:t}))}});var Ot={pointerdown:dt,pointermove:2,pointerup:ft,pointercancel:mt,pointerout:mt},Pt={2:ut,3:"pen",4:pt,5:"kinect"},At="pointerdown",It="pointermove pointerup pointercancel";r.MSPointerEvent&&!r.PointerEvent&&(At="MSPointerDown",It="MSPointerMove MSPointerUp MSPointerCancel"),n(A,x,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),a=Ot[i],r=Pt[t.pointerType]||t.pointerType,o=r==ut,s=g(e,t.pointerId,"pointerId");a&dt&&(0===t.button||o)?s<0&&(e.push(t),s=e.length-1):a&(ft|mt)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,a,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),n&&e.splice(s,1))}});var Ht={touchstart:dt,touchmove:2,touchend:ft,touchcancel:mt};n(I,x,{handler:function(t){var e=Ht[t.type];if(e===dt&&(this.started=!0),this.started){var n=function(t,e){var n=w(t.touches),i=w(t.changedTouches);return e&(ft|mt)&&(n=y(n.concat(i),"identifier",!0)),[n,i]}.call(this,t,e);e&(ft|mt)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:ut,srcEvent:t})}}});var St={touchstart:dt,touchmove:2,touchend:ft,touchcancel:mt},Yt="touchstart touchmove touchend touchcancel";n(H,x,{handler:function(t){var e=St[t.type],n=function(t,e){var n=w(t.touches),i=this.targetIds;if(e&(2|dt)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var a,r,o=w(t.changedTouches),s=[],c=this.target;if(r=n.filter(function(t){return f(t.target,c)}),e===dt)for(a=0;a<r.length;)i[r[a].identifier]=!0,a++;for(a=0;a<o.length;)i[o[a].identifier]&&s.push(o[a]),e&(ft|mt)&&delete i[o[a].identifier],a++;return s.length?[y(r.concat(s),"identifier",!0),s]:void 0}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:ut,srcEvent:t})}});var Vt=2500;n(S,x,{handler:function(t,e,n){var i=n.pointerType==ut,a=n.pointerType==pt;if(!(a&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)(function(t,e){t&dt?(this.primaryTouch=e.changedPointers[0].identifier,Y.call(this,e)):t&(ft|mt)&&Y.call(this,e)}).call(this,e,n);else if(a&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var a=this.lastTouches[i],r=Math.abs(e-a.x),o=Math.abs(n-a.y);if(r<=25&&o<=25)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Nt=T(Q.style,"touchAction"),Ft=Nt!==p,qt="compute",zt="manipulation",Lt="none",Rt="pan-x",jt="pan-y",Xt=function(){if(!Ft)return!1;var e={},n=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){e[t]=!n||r.CSS.supports("touch-action",t)}),e}();V.prototype={set:function(t){t==qt&&(t=this.compute()),Ft&&this.manager.element.style&&Xt[t]&&(this.manager.element.style[Nt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return o(this.manager.recognizers,function(t){l(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(m(t,Lt))return Lt;var e=m(t,Rt),n=m(t,jt);return e&&n?Lt:e||n?e?Rt:jt:m(t,zt)?zt:"auto"}(e.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(!this.manager.session.prevented){var i=this.actions,a=m(i,Lt)&&!Xt[Lt],r=m(i,jt)&&!Xt[jt],o=m(i,Rt)&&!Xt[Rt];if(a){var s=1===t.pointers.length,c=t.distance<2,l=t.deltaTime<250;if(s&&c&&l)return}return o&&r?void 0:a||r&&n&kt||o&&n&xt?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var $t=1;N.prototype={defaults:{},set:function(t){return J(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(i(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=z(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return i(t,"dropRecognizeWith",this)||(t=z(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(i(t,"requireFailure",this))return this;var e=this.requireFail;return-1===g(e,t=z(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(i(t,"dropRequireFailure",this))return this;t=z(t,this);var e=g(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,i=this.state;i<8&&t(n.options.event+F(i)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),8<=i&&t(n.options.event+F(i))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=32)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|$t)))return!1;t++}return!0},recognize:function(t){var e=J({},t);return l(this.options.enable,[this,e])?(56&this.state&&(this.state=$t),this.state=this.process(e),void(30&this.state&&this.tryEmit(e))):(this.reset(),void(this.state=32))},process:function(t){},getTouchAction:function(){},reset:function(){}},n(L,N,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,a=this.attrTest(t);return i&&(n&mt||!a)?16|e:i||a?n&ft?8|e:2&e?4|e:2:32}}),n(R,L,{defaults:{event:"pan",threshold:10,pointers:1,direction:_t},getTouchAction:function(){var t=this.options.direction,e=[];return t&kt&&e.push(jt),t&xt&&e.push(Rt),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,a=t.direction,r=t.deltaX,o=t.deltaY;return a&e.direction||(i=e.direction&kt?(a=0===r?vt:r<0?gt:wt,n=r!=this.pX,Math.abs(t.deltaX)):(a=0===o?vt:o<0?yt:Tt,n=o!=this.pY,Math.abs(t.deltaY))),t.direction=a,n&&i>e.threshold&&a&e.direction},attrTest:function(t){return L.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=q(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),n(j,L,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Lt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),n(X,N,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,a=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(ft|mt)&&!a)this.reset();else if(t.eventType&dt)this.reset(),this._timer=s(function(){this.state=8,this.tryEmit()},e.time,this);else if(t.eventType&ft)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&ft?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=it(),this.manager.emit(this.options.event,this._input)))}}),n($,L,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Lt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),n(W,L,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:kt|xt,pointers:1},getTouchAction:function(){return R.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(kt|xt)?e=t.overallVelocity:n&kt?e=t.overallVelocityX:n&xt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&nt(e)>this.options.velocity&&t.eventType&ft},emit:function(t){var e=q(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),n(K,N,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[zt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,a=t.deltaTime<e.time;if(this.reset(),t.eventType&dt&&0===this.count)return this.failTimeout();if(i&&a&&n){if(t.eventType!=ft)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||D(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&r?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=s(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=s(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),U.VERSION="2.0.8",U.defaults={domEvents:!1,touchAction:qt,enable:!0,inputTarget:null,inputClass:null,preset:[[$,{enable:!1}],[j,{enable:!1},["rotate"]],[W,{direction:kt}],[R,{direction:kt},["swipe"]],[K],[K,{event:"doubletap",taps:2},["tap"]],[X]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};B.prototype={set:function(t){return J(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,a=e.curRecognizer;(!a||a&&8&a.state)&&(a=e.curRecognizer=null);for(var r=0;r<i.length;)n=i[r],2===e.stopped||a&&n!=a&&!n.canRecognizeWith(a)?n.reset():n.recognize(t),!a&&14&n.state&&(a=e.curRecognizer=n),r++}},get:function(t){if(t instanceof N)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(i(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){if(i(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=g(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==p&&e!==p){var n=this.handlers;return o(v(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==p){var n=this.handlers;return o(v(t),function(t){e?n[t]&&n[t].splice(g(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=a.createEvent("Event");n.initEvent(t,!0,!0),(n.gesture=e).target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&G(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},J(U,{INPUT_START:dt,INPUT_MOVE:2,INPUT_END:ft,INPUT_CANCEL:mt,STATE_POSSIBLE:$t,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:vt,DIRECTION_LEFT:gt,DIRECTION_RIGHT:wt,DIRECTION_UP:yt,DIRECTION_DOWN:Tt,DIRECTION_HORIZONTAL:kt,DIRECTION_VERTICAL:xt,DIRECTION_ALL:_t,Manager:B,Input:x,TouchAction:V,TouchInput:H,MouseInput:P,PointerEventInput:A,TouchMouseInput:S,SingleTouchInput:I,Recognizer:N,AttrRecognizer:L,Tap:K,Pan:R,Swipe:W,Pinch:j,Rotate:$,Press:X,on:h,off:d,each:o,merge:rt,extend:at,assign:J,inherit:n,bindFn:c,prefixed:T}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=U,"function"==typeof define&&define.amd?define(function(){return U}):"undefined"!=typeof module&&module.exports?module.exports=U:r.Hammer=U}(window,document),function(c){"use strict";var l;c.modal=function(n,t){var i=(n=c.extend({},l,n)).buttons,e=i.map(function(t,e){return'<a href="javascript:;" class="weui_btn_dialog '+(t.className||"")+'">'+t.text+"</a>"}).join(""),a='<div class="weui_dialog"><div class="weui_dialog_hd"><strong class="weui_dialog_title">'+n.title+"</strong></div>"+(n.text?'<div class="weui_dialog_bd">'+n.text+"</div>":"")+'<div class="weui_dialog_ft">'+e+"</div></div>",r=c.openModal(a,t);return r.find(".weui_btn_dialog").each(function(t,e){c(e).click(function(){n.autoClose&&c.closeModal(),i[t].onClick&&i[t].onClick.call(r)})}),r},c.openModal=function(t,e){var n=c("<div class='weui_mask'></div>").appendTo(document.body);n.show();var i=c(t).appendTo(document.body);return e&&i.transitionEnd(function(){e.call(i)}),i.show(),n.addClass("weui_mask_visible"),i.addClass("weui_dialog_visible"),i},c.closeModal=function(){c(".weui_mask_visible").removeClass("weui_mask_visible").transitionEnd(function(){c(this).remove()}),c(".weui_dialog_visible").removeClass("weui_dialog_visible").transitionEnd(function(){c(this).remove()})},c.alert=function(t,e,n){var i;return i="object"==typeof t?t:("function"==typeof e&&(n=arguments[1],e=void 0),{text:t,title:e,onOK:n}),c.modal({text:i.text,title:i.title,buttons:[{text:l.buttonOK,className:"primary",onClick:i.onOK}]})},c.confirm=function(t,e,n,i){var a;return a="object"==typeof t?t:("function"==typeof e&&(i=arguments[2],n=arguments[1],e=void 0),{text:t,title:e,onOK:n,onCancel:i}),c.modal({text:a.text,title:a.title,buttons:[{text:l.buttonCancel,className:"default",onClick:a.onCancel},{text:l.buttonOK,className:"primary",onClick:a.onOK}]})},c.prompt=function(t,e,n,i,a){var r;r="object"==typeof t?t:("function"==typeof e&&(a=arguments[3],i=arguments[2],n=arguments[1],e=void 0),{text:t,title:e,input:a,onOK:n,onCancel:i,empty:!1});var o=c.modal({text:'<p class="weui-prompt-text">'+(r.text||"")+'</p><input type="text" class="weui_input weui-prompt-input" id="weui-prompt-input" value="'+(r.input||"")+'" />',title:r.title,autoClose:!1,buttons:[{text:l.buttonCancel,className:"default",onClick:function(){c.closeModal(),r.onCancel&&r.onCancel.call(o)}},{text:l.buttonOK,className:"primary",onClick:function(){var t=c("#weui-prompt-input").val();return r.empty||""!==t&&null!==t?(c.closeModal(),void(r.onOK&&r.onOK.call(o,t))):(o.find(".weui-prompt-input").focus()[0].select(),!1)}}]},function(){this.find(".weui-prompt-input").focus()[0].select()});return o},c.login=function(t,e,n,i,a,r){var o;o="object"==typeof t?t:("function"==typeof e&&(r=arguments[4],a=arguments[3],i=arguments[2],n=arguments[1],e=void 0),{text:t,title:e,username:a,password:r,onOK:n,onCancel:i});var s=c.modal({text:'<p class="weui-prompt-text">'+(o.text||"")+'</p><input type="text" class="weui_input weui-prompt-input" id="weui-prompt-username" value="'+(o.username||"")+'" placeholder="输入用户名" /><input type="password" class="weui_input weui-prompt-input" id="weui-prompt-password" value="'+(o.password||"")+'" placeholder="输入密码" />',title:o.title,autoClose:!1,buttons:[{text:l.buttonCancel,className:"default",onClick:function(){c.closeModal(),o.onCancel&&o.onCancel.call(s)}},{text:l.buttonOK,className:"primary",onClick:function(){var t=c("#weui-prompt-username").val(),e=c("#weui-prompt-password").val();return o.empty||""!==t&&null!==t?o.empty||""!==e&&null!==e?(c.closeModal(),void(o.onOK&&o.onOK.call(s,t,e))):(s.find("#weui-prompt-password").focus()[0].select(),!1):(s.find("#weui-prompt-username").focus()[0].select(),!1)}}]},function(){this.find("#weui-prompt-username").focus()[0].select()});return s},l=c.modal.prototype.defaults={title:"提示",text:void 0,buttonOK:"确定",buttonCancel:"取消",buttons:[{text:"确定",className:"primary"}],autoClose:!0}}($),function(a){"use strict";function r(t,e){e=e||"";var n=(a("<div class='weui_mask_transparent'></div>").appendTo(document.body),'<div class="weui_toast '+e+'">'+t+"</div>"),i=a(n).appendTo(document.body);i.show(),i.addClass("weui_toast_visible")}function o(e){a(".weui_mask_transparent").remove(),a(".weui_toast_visible").removeClass("weui_toast_visible").transitionEnd(function(){var t=a(this);t.remove(),e&&e(t)})}a.toast=function(t,e,n){var i;"function"==typeof e&&(n=e),"cancel"==e?i="weui_toast_cancel":"forbidden"==e?i="weui_toast_forbidden":"text"==e&&(i="weui_toast_text"),r('<i class="weui_icon_toast"></i><p class="weui_toast_content">'+(t||"已经完成")+"</p>",i),setTimeout(function(){o(n)},s.duration)},a.showLoading=function(t){for(var e='<div class="weui_loading">',n=0;n<12;n++)e+='<div class="weui_loading_leaf weui_loading_leaf_'+n+'"></div>';e+="</div>",r(e+='<p class="weui_toast_content">'+(t||"数据加载中")+"</p>","weui_loading_toast")},a.hideLoading=function(){o()};var s=a.toast.prototype.defaults={duration:2e3}}($),function(o){"use strict";o.actions=function(t){(function(n){var t=o("<div class='weui_mask weui_actions_mask'></div>").appendTo(document.body),i=n.actions||[],e=i.map(function(t,e){return'<div class="weui_actionsheet_cell '+(t.className||"")+'">'+t.text+"</div>"}).join(""),a="";n.title&&(a='<div class="weui_actionsheet_title">'+n.title+"</div>");var r=o('<div class="weui_actionsheet " id="weui_actionsheet">'+a+'<div class="weui_actionsheet_menu">'+e+'</div><div class="weui_actionsheet_action"><div class="weui_actionsheet_cell weui_actionsheet_cancel">取消</div></div></div>').appendTo(document.body);r.find(".weui_actionsheet_menu .weui_actionsheet_cell, .weui_actionsheet_action .weui_actionsheet_cell").each(function(t,e){o(e).click(function(){o.closeActions(),n.onClose&&n.onClose(),i[t]&&i[t].onClick&&i[t].onClick()})}),t.show(),r.show(),t.addClass("weui_mask_visible"),r.addClass("weui_actionsheet_toggle")})(t=o.extend({},e,t))},o.closeActions=function(){o(".weui_mask").removeClass("weui_mask_visible").transitionEnd(function(){o(this).remove()}),o(".weui_actionsheet").removeClass("weui_actionsheet_toggle").transitionEnd(function(){o(this).remove()})},o(document).on("click",".weui_actions_mask",function(){o.closeActions()});var e=o.actions.prototype.defaults={title:void 0,onClose:void 0}}($),function(n){"use strict";function e(t){this.container=n(t),this.distance=50,this.attachEvents()}e.prototype.touchStart=function(t){if(!this.container.hasClass("refreshing")){var e=n.getTouchPosition(t);this.start=e,this.diffX=this.diffY=0}},e.prototype.touchMove=function(t){if(!this.container.hasClass("refreshing")){if(!this.start)return!1;if(!(0<this.container.scrollTop())){var e=n.getTouchPosition(t);this.diffX=e.x-this.start.x,this.diffY=e.y-this.start.y,this.diffY<0||(this.container.addClass("touching"),t.preventDefault(),t.stopPropagation(),this.diffY=Math.pow(this.diffY,.8),this.container.css("transform","translate3d(0, "+this.diffY+"px, 0)"),this.diffY<this.distance?this.container.removeClass("pull-up").addClass("pull-down"):this.container.removeClass("pull-down").addClass("pull-up"))}}},e.prototype.touchEnd=function(){this.start=!1,this.diffY<=0||this.container.hasClass("refreshing")||(this.container.removeClass("touching"),this.container.removeClass("pull-down pull-up"),this.container.css("transform",""),Math.abs(this.diffY)<=this.distance||(this.container.addClass("refreshing"),this.container.trigger("pull-to-refresh")))},e.prototype.attachEvents=function(){var t=this.container;t.addClass("weui-pull-to-refresh"),t.on(n.touchEvents.start,n.proxy(this.touchStart,this)),t.on(n.touchEvents.move,n.proxy(this.touchMove,this)),t.on(n.touchEvents.end,n.proxy(this.touchEnd,this))};n.fn.pullToRefresh=function(){return this.each(function(){!function(t){new e(t)}(this)})},n.fn.pullToRefreshDone=function(){return this.each(function(){!function(t){n(t).removeClass("refreshing")}(this)})}}($),function(n){"use strict";function e(t,e){this.container=n(t),this.container.data("infinite",this),this.distance=e||50,this.attachEvents()}e.prototype.scroll=function(){var t=this.container;t.scrollHeight()-(n(window).height()+t.scrollTop())<=this.distance&&t.trigger("infinite")},e.prototype.attachEvents=function(t){var e=this.container;("BODY"===e[0].tagName.toUpperCase()?n(document):e)[t?"off":"on"]("scroll",n.proxy(this.scroll,this))},e.prototype.detachEvents=function(t){this.attachEvents(!0)},n.fn.infinite=function(t){return this.each(function(){new e(this,t)})},n.fn.destroyInfinite=function(){return this.each(function(){var t=n(this).data("infinite");t&&t.detachEvents&&t.detachEvents()})}}($),function(i){"use strict";function a(t){var e=i(t);if(!e.hasClass(r)){var n=e.attr("href");if(/^#/.test(n))e.parent().find("."+r).removeClass(r),e.addClass(r),e.parents(".weui_tab").find(".weui_tab_bd").find(".weui_tab_bd_item_active").removeClass("weui_tab_bd_item_active"),i(n).addClass("weui_tab_bd_item_active")}}var r="weui_bar_item_on";i.showTab=a,i(document).on("click",".weui_tabbar_item, .weui_navbar_item",function(t){var e=i(t.currentTarget),n=e.attr("href");e.hasClass(r)||/^#/.test(n)&&(t.preventDefault(),a(e))})}($),function(n){"use strict";n(document).on("click",".weui_search_bar label",function(t){n(t.target).parents(".weui_search_bar").addClass("weui_search_focusing")}).on("blur",".weui_search_input",function(t){var e=n(t.target);e.val()||e.parents(".weui_search_bar").removeClass("weui_search_focusing")}).on("click",".weui_search_cancel",function(t){n(t.target).parents(".weui_search_bar").removeClass("weui_search_focusing").find(".weui_search_input").val("").blur()}).on("click",".weui_icon_clear",function(t){n(t.target).parents(".weui_search_bar").find(".weui_search_input").val("").focus()})}($),function(t){"use strict";var e={},n=navigator.userAgent,i=n.match(/(Android);?[\s\/]+([\d.]+)?/),a=n.match(/(iPad).*OS\s([\d_]+)/),r=n.match(/(iPod)(.*OS\s([\d_]+))?/),o=!a&&n.match(/(iPhone\sOS)\s([\d_]+)/);if(e.ios=e.android=e.iphone=e.ipad=e.androidChrome=!1,i&&(e.os="android",e.osVersion=i[2],e.android=!0,e.androidChrome=0<=n.toLowerCase().indexOf("chrome")),(a||o||r)&&(e.os="ios",e.ios=!0),o&&!r&&(e.osVersion=o[2].replace(/_/g,"."),e.iphone=!0),a&&(e.osVersion=a[2].replace(/_/g,"."),e.ipad=!0),r&&(e.osVersion=r[3]?r[3].replace(/_/g,"."):null,e.iphone=!0),e.ios&&e.osVersion&&0<=n.indexOf("Version/")&&"10"===e.osVersion.split(".")[0]&&(e.osVersion=n.toLowerCase().split("version/")[1].split(" ")[0]),e.webView=(o||a||r)&&n.match(/.*AppleWebKit(?!.*Safari)/i),e.os&&"ios"===e.os){var s=e.osVersion.split(".");e.minimalUi=!e.webView&&(r||o)&&(1*s[0]==7?1<=1*s[1]:7<1*s[0])&&0<t('meta[name="viewport"]').length&&0<=t('meta[name="viewport"]').attr("content").indexOf("minimal-ui")}var c=t(window).width(),l=t(window).height();e.statusBar=!1,e.webView&&c*l==screen.width*screen.height?e.statusBar=!0:e.statusBar=!1;var u=[];if(e.pixelRatio=window.devicePixelRatio||1,u.push("pixel-ratio-"+Math.floor(e.pixelRatio)),2<=e.pixelRatio&&u.push("retina"),e.os&&(u.push(e.os,e.os+"-"+e.osVersion.split(".")[0],e.os+"-"+e.osVersion.replace(/\./g,"-")),"ios"===e.os))for(var p=parseInt(e.osVersion.split(".")[0],10)-1;6<=p;p--)u.push("ios-gt-"+p);e.statusBar?u.push("with-statusbar-overlay"):t("html").removeClass("with-statusbar-overlay"),0<u.length&&t("html").addClass(u.join(" ")),t.device=e}($),function(P){"use strict";function o(t){function l(){var t=!1;return(D.params.convertToPopover||D.params.onlyInPopover)&&!D.inline&&D.params.input&&(D.params.onlyInPopover?t=!0:P.device.ios?t=!!P.device.ipad:768<=P(window).width()&&(t=!0)),t}function e(){return!!(D.opened&&D.container&&0<D.container.length&&0<D.container.parents(".popover").length)}function n(){if(D.opened)for(var t=0;t<D.cols.length;t++)D.cols[t].divider||(D.cols[t].calcSize(),D.cols[t].setValue(D.cols[t].value,0,!1))}function i(t){if(t.preventDefault(),!D.opened&&(D.open(),D.params.scrollToInput&&!l())){var e=D.input.parents(".content");if(0===e.length)return;var n,i=parseInt(e.css("padding-top"),10),a=parseInt(e.css("padding-bottom"),10),r=e[0].offsetHeight-i-D.container.height(),o=e[0].scrollHeight-i-D.container.height(),s=D.input.offset().top-i+D.input[0].offsetHeight;if(r<s){var c=e.scrollTop()+s-r;o<c+r&&(n=c+r-o+a,r==o&&(n=D.container.height()),e.css({"padding-bottom":n+"px"})),e.scrollTop(c,300)}}}function a(t){e()||(D.input&&0<D.input.length?t.target!==D.input[0]&&0===P(t.target).parents(".weui-picker-modal").length&&D.close():0===P(t.target).parents(".weui-picker-modal").length&&D.close())}function r(){D.opened=!1,D.input&&0<D.input.length&&D.input.parents(".page-content").css({"padding-bottom":""}),D.params.onClose&&D.params.onClose(D),D.container.find(".picker-items-col").each(function(){D.destroyPickerCol(this)})}var D=this,o={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"完成",title:"请选择",toolbarTemplate:'<div class="toolbar">          <div class="toolbar-inner">          <a href="javascript:;" class="picker-button close-picker">{{closeText}}</a>          <h1 class="title">{{title}}</h1>          </div>          </div>'};for(var s in t=t||{},o)void 0===t[s]&&(t[s]=o[s]);D.params=t,D.cols=[],D.initialized=!1,D.inline=!!D.params.container;var O=P.device.ios||0<=navigator.userAgent.toLowerCase().indexOf("safari")&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!P.device.android;return D.setValue=function(t,e){for(var n=0,i=0;i<D.cols.length;i++)D.cols[i]&&!D.cols[i].divider&&(D.cols[i].setValue(t[n],e),n++)},D.updateValue=function(){for(var t=[],e=[],n=0;n<D.cols.length;n++)D.cols[n].divider||(t.push(D.cols[n].value),e.push(D.cols[n].displayValue));0<=t.indexOf(void 0)||(D.value=t,D.displayValue=e,D.params.onChange&&D.params.onChange(D,D.value,D.displayValue),D.input&&0<D.input.length&&(P(D.input).val(D.params.formatValue?D.params.formatValue(D,D.value,D.displayValue):D.value.join(" ")),P(D.input).trigger("change")))},D.initPickerCol=function(t,e){function r(){f=P.requestAnimationFrame(function(){l.updateItems(void 0,void 0,0),r()})}function n(t){if(!v&&!m){t.preventDefault(),m=!0;var e=P.getTouchPosition(t);g=w=e.y,y=(new Date).getTime(),E=!0,k=_=P.getTranslate(l.wrapper[0],"y")}}function i(t){if(m){t.preventDefault(),E=!1;var e=P.getTouchPosition(t);w=e.y,v||(P.cancelAnimationFrame(f),v=!0,k=_=P.getTranslate(l.wrapper[0],"y"),l.wrapper.transition(0)),t.preventDefault(),x=void 0,(_=k+(w-g))<h&&(_=h-Math.pow(h-_,.8),x="min"),d<_&&(_=d+Math.pow(_-d,.8),x="max"),l.wrapper.transform("translate3d(0,"+_+"px,0)"),l.updateItems(void 0,_,0,D.params.updateValuesOnTouchmove),b=_-C||_,M=(new Date).getTime(),C=_}}function a(t){if(m&&v){var e;m=v=!1,l.wrapper.transition(""),x&&("min"===x?l.wrapper.transform("translate3d(0,"+h+"px,0)"):l.wrapper.transform("translate3d(0,"+d+"px,0)")),e=300<(T=(new Date).getTime())-y?_:(Math.abs(b/(T-M)),_+b*D.params.momentumRatio),e=Math.max(Math.min(e,d),h);var n=-Math.floor((e-d)/u);D.params.freeMode||(e=-n*u+d),l.wrapper.transform("translate3d(0,"+parseInt(e,10)+"px,0)"),l.updateItems(n,e,"",!0),D.params.updateValuesOnMomentum&&(r(),l.wrapper.transitionEnd(function(){P.cancelAnimationFrame(f)})),setTimeout(function(){E=!0},100)}else m=v=!1}function o(t){if(E){P.cancelAnimationFrame(f);var e=P(this).attr("data-picker-value");l.setValue(e)}}var s=P(t),c=s.index(),l=D.cols[c];if(!l.divider){var u,p,h,d,f;l.container=s,l.wrapper=l.container.find(".picker-items-col-wrapper"),l.items=l.wrapper.find(".picker-item"),l.replaceValues=function(t,e){l.destroyEvents(),l.values=t,l.displayValues=e;var n=D.columnHTML(l,!0);l.wrapper.html(n),l.items=l.wrapper.find(".picker-item"),l.calcSize(),l.setValue(l.values[0],0,!0),l.initEvents()},l.calcSize=function(){var e,t;D.params.rotateEffect&&(l.container.removeClass("picker-items-col-absolute"),l.width||l.container.css({width:""})),e=0,t=l.container[0].offsetHeight,l.wrapper[0].offsetHeight,u=l.items[0].offsetHeight,p=u*l.items.length,h=t/2-p+u/2,d=t/2-u/2,l.width&&(e=l.width,parseInt(e,10)===e&&(e+="px"),l.container.css({width:e})),D.params.rotateEffect&&(l.width||(l.items.each(function(){var t=P(this);t.css({width:"auto"}),e=Math.max(e,t[0].offsetWidth),t.css({width:""})}),l.container.css({width:e+2+"px"})),l.container.addClass("picker-items-col-absolute"))},l.calcSize(),l.wrapper.transform("translate3d(0,"+d+"px,0)").transition(0),l.setValue=function(t,e,n){void 0===e&&(e="");var i=l.wrapper.find('.picker-item[data-picker-value="'+t+'"]').index();if(void 0!==i&&-1!==i){var a=-i*u+d;l.wrapper.transition(e),l.wrapper.transform("translate3d(0,"+a+"px,0)"),D.params.updateValuesOnMomentum&&l.activeIndex&&l.activeIndex!==i&&(P.cancelAnimationFrame(f),l.wrapper.transitionEnd(function(){P.cancelAnimationFrame(f)}),r()),l.updateItems(i,a,e,n)}},l.updateItems=function(t,a,e,n){void 0===a&&(a=P.getTranslate(l.wrapper[0],"y")),void 0===t&&(t=-Math.round((a-d)/u)),t<0&&(t=0),t>=l.items.length&&(t=l.items.length-1);var i=l.activeIndex;l.activeIndex=t,l.wrapper.find(".picker-selected").removeClass("picker-selected"),D.params.rotateEffect&&l.items.transition(e);var r=l.items.eq(t).addClass("picker-selected").transform("");!n&&void 0!==n||(l.value=r.attr("data-picker-value"),l.displayValue=l.displayValues?l.displayValues[t]:l.value,i!==t&&(l.onChange&&l.onChange(D,l.value,l.displayValue),D.updateValue())),D.params.rotateEffect&&(Math.floor((a-d)/u),l.items.each(function(){var t=P(this),e=(t.index()*u-(d-a))/u,n=Math.ceil(l.height/u/2)+1,i=-18*e;180<i&&(i=180),i<-180&&(i=-180),Math.abs(e)>n?t.addClass("picker-item-far"):t.removeClass("picker-item-far"),t.transform("translate3d(0, "+(-a+d)+"px, "+(O?-110:0)+"px) rotateX("+i+"deg)")}))},e&&l.updateItems(0,d,0);var m,v,g,w,y,T,k,x,_,C,b,M,E=!0;l.initEvents=function(t){var e=t?"off":"on";l.container[e](P.touchEvents.start,n),l.container[e](P.touchEvents.move,i),l.container[e](P.touchEvents.end,a),l.items[e]("click",o)},l.destroyEvents=function(){l.initEvents(!0)},l.container[0].f7DestroyPickerCol=function(){l.destroyEvents()},l.initEvents()}},D.destroyPickerCol=function(t){"f7DestroyPickerCol"in(t=P(t))[0]&&t[0].f7DestroyPickerCol()},P(window).on("resize",n),D.columnHTML=function(t,e){var n="",i="";if(t.divider)i+='<div class="picker-items-col picker-items-col-divider '+(t.textAlign?"picker-items-col-"+t.textAlign:"")+" "+(t.cssClass||"")+'">'+t.content+"</div>";else{for(var a=0;a<t.values.length;a++)n+='<div class="picker-item" data-picker-value="'+t.values[a]+'">'+(t.displayValues?t.displayValues[a]:t.values[a])+"</div>";i+='<div class="picker-items-col '+(t.textAlign?"picker-items-col-"+t.textAlign:"")+" "+(t.cssClass||"")+'"><div class="picker-items-col-wrapper">'+n+"</div></div>"}return e?n:i},D.layout=function(){var t,e;D.cols=[];var n="";for(t=0;t<D.params.cols.length;t++){var i=D.params.cols[t];n+=D.columnHTML(D.params.cols[t]),D.cols.push(i)}e='<div class="'+("weui-picker-modal picker-columns "+(D.params.cssClass||"")+(D.params.rotateEffect?" picker-3d":"")+(1===D.params.cols.length?" picker-columns-single":""))+'">'+(D.params.toolbar?D.params.toolbarTemplate.replace(/{{closeText}}/g,D.params.toolbarCloseText).replace(/{{title}}/g,D.params.title):"")+'<div class="picker-modal-inner picker-items">'+n+'<div class="picker-center-highlight"></div></div></div>',D.pickerHTML=e},D.params.input&&(D.input=P(D.params.input),0<D.input.length&&(D.params.inputReadOnly&&D.input.prop("readOnly",!0),D.inline||D.input.on("click",i),D.params.inputReadOnly&&D.input.on("focus mousedown",function(t){t.preventDefault()}))),D.inline||P("html").on("click",a),D.opened=!1,D.open=function(){var t=l();D.opened||(D.layout(),t?(D.pickerHTML='<div class="popover popover-picker-columns"><div class="popover-inner">'+D.pickerHTML+"</div></div>",D.popover=P.popover(D.pickerHTML,D.params.input,!0),D.container=P(D.popover).find(".weui-picker-modal"),P(D.popover).on("close",function(){r()})):D.inline?(D.container=P(D.pickerHTML),D.container.addClass("picker-modal-inline"),P(D.params.container).append(D.container)):(D.container=P(P.openPicker(D.pickerHTML)),P(D.container).on("close",function(){r()})),(D.container[0].f7Picker=D).container.find(".picker-items-col").each(function(){var t=!0;(!D.initialized&&D.params.value||D.initialized&&D.value)&&(t=!1),D.initPickerCol(this,t)}),D.initialized?D.value&&D.setValue(D.value,0):D.params.value&&D.setValue(D.params.value,0)),D.opened=!0,D.initialized=!0,D.params.onOpen&&D.params.onOpen(D)},D.close=function(t){return D.opened&&!D.inline?e()?void P.closePicker(D.popover):void P.closePicker(D.container):void 0},D.destroy=function(){D.close(),D.params.input&&0<D.input.length&&D.input.off("click focus",i),P("html").off("click",a),P(window).off("resize",n)},D.inline&&D.open(),D}P(document).on("click",".close-picker",function(){var t=P(".weui-picker-modal.weui-picker-modal-visible");0<t.length&&P.closePicker(t)}),P(document).on(P.touchEvents.move,".picker-modal-inner",function(t){t.preventDefault()}),P.openPicker=function(t,e,n){"function"==typeof e&&(n=e,e=void 0),P.closePicker();var i=P("<div class='weui-picker-container "+(e||"")+"'></div>").appendTo(document.body);i.show(),i.addClass("weui-picker-container-visible");var a=P(t).appendTo(i);return a.width(),a.addClass("weui-picker-modal-visible"),n&&i.on("close",n),a},P.updatePicker=function(t){var e=P(".weui-picker-container-visible");if(!e[0])return!1;e.html("");var n=P(t).appendTo(e);return n.addClass("weui-picker-modal-visible"),n},P.closePicker=function(t,e){"function"==typeof t&&(e=t),P(".weui-picker-modal-visible").removeClass("weui-picker-modal-visible").transitionEnd(function(){P(this).parent().remove(),e&&e()}).trigger("close")},P.fn.picker=function(a){var r=arguments;return this.each(function(){if(this){var t=P(this),e=t.data("picker");if(!e){a=a||{};var n=t.val();void 0===a.value&&""!==n&&(a.value=1<a.cols.length?n.split(" "):[n]);var i=P.extend({input:this},a);e=new o(i),t.data("picker",e)}"string"==typeof a&&e[a].apply(e,Array.prototype.slice.call(r,1))}})}}($),function(s){"use strict";function a(t,e){this.config=e,this.data={values:"",titles:"",origins:[],length:0},this.$input=s(t),this.$input.prop("readOnly",!0),this.initConfig(),e=this.config,this.$input.click(s.proxy(this.open,this))}var e;a.prototype.initConfig=function(){this.config=s.extend({},e,this.config);var t=this.config;t.items&&t.items.length&&(t.items=t.items.map(function(t,e){return"string"==typeof t?{title:t,value:t}:t}),this.tpl=s.t7.compile("<div class='weui-picker-modal weui-select-modal'>"+t.toolbarTemplate+(t.multi?t.checkboxTemplate:t.radioTemplate)+"</div>"),void 0!==t.input&&this.$input.val(t.input),this.parseInitValue(),this._init=!0)},a.prototype.updateInputValue=function(t,e){var n,i;i=this.config.multi?(n=t.join(this.config.split),e.join(this.config.split)):(n=t[0],e[0]);var a=[];this.config.items.forEach(function(n){t.each(function(t,e){n.value==e&&a.push(n)})}),this.$input.val(i).data("values",n),this.$input.attr("value",i).attr("data-values",n);var r={values:n,titles:i,valuesArray:t,titlesArray:e,origins:a,length:a.length};this.data=r,this.$input.trigger("change",r),this.config.onChange&&this.config.onChange.call(this,r)},a.prototype.parseInitValue=function(){var t=this.$input.val(),e=this.config.items;if(this._init||void 0!==t&&null!=t&&""!==t)for(var n=this.config.multi?t.split(this.config.split):[t],i=0;i<e.length;i++){e[i].checked=!1;for(var a=0;a<n.length;a++)e[i].title===n[a]&&(e[i].checked=!0)}},a.prototype._bind=function(a){var r=this,o=this.config;a.on("change",function(t){var e=a.find("input:checked"),n=e.map(function(){return s(this).val()}),i=e.map(function(){return s(this).data("title")});r.updateInputValue(n,i),o.autoClose&&!o.multi&&s.closePicker()}).on("click",".close-select",function(){r.close()})},a.prototype.update=function(t){this.config=s.extend({},this.config,t),this.initConfig(),this._open&&this._bind(s.updatePicker(this.getHTML()))},a.prototype.open=function(t,e){if(!this._open){this.parseInitValue();var n=this.config,i=this.dialog=s.openPicker(this.getHTML(),s.proxy(this.onClose,this));this._bind(i),this._open=!0,n.onOpen&&n.onOpen(this)}},a.prototype.close=function(t,e){var n=this,i=this.config.beforeClose;if(!e){if(i&&"function"==typeof i&&!1===i.call(this,this.data.values,this.data.titles))return!1;if(this.config.multi){if(void 0!==this.config.min&&this.data.length<this.config.min)return s.toast("请至少选择"+this.config.min+"个","text"),!1;if(void 0!==this.config.max&&this.data.length>this.config.max)return s.toast("最多只能选择"+this.config.max+"个","text"),!1}}s.closePicker(function(){n.onClose(),t&&t()})},a.prototype.onClose=function(){this._open=!1,this.config.onClose&&this.config.onClose(this)},a.prototype.getHTML=function(t){var e=this.config;return this.tpl({items:e.items,title:e.title,closeText:e.closeText})},s.fn.select=function(n,i){return this.each(function(){var t=s(this);t.data("weui-select")||t.data("weui-select",new a(this,n));var e=t.data("weui-select");return"string"==typeof n&&e[n].call(e,i),e})},e=s.fn.select.prototype.defaults={items:[],input:void 0,title:"请选择",multi:!1,closeText:"确定",autoClose:!0,onChange:void 0,beforeClose:void 0,onClose:void 0,onOpen:void 0,split:",",min:void 0,max:void 0,toolbarTemplate:'<div class="toolbar">      <div class="toolbar-inner">      <a href="javascript:;" class="picker-button close-select">{{closeText}}</a>      <h1 class="title">{{title}}</h1>      </div>      </div>',radioTemplate:'<div class="weui_cells weui_cells_radio">        {{#items}}        <label class="weui_cell weui_check_label" for="weui-select-id-{{this.title}}">          <div class="weui_cell_bd weui_cell_primary">            <p>{{this.title}}</p>          </div>          <div class="weui_cell_ft">            <input type="radio" class="weui_check" name="weui-select" id="weui-select-id-{{this.title}}" value="{{this.value}}" {{#if this.checked}}checked="checked"{{/if}} data-title="{{this.title}}">            <span class="weui_icon_checked"></span>          </div>        </label>        {{/items}}      </div>',checkboxTemplate:'<div class="weui_cells weui_cells_checkbox">        {{#items}}        <label class="weui_cell weui_check_label" for="weui-select-id-{{this.title}}">          <div class="weui_cell_bd weui_cell_primary">            <p>{{this.title}}</p>          </div>          <div class="weui_cell_ft">            <input type="checkbox" class="weui_check" name="weui-select" id="weui-select-id-{{this.title}}" value="{{this.value}}" {{#if this.checked}}checked="checked"{{/if}} data-title="{{this.title}}" >            <span class="weui_icon_checked"></span>          </div>        </label>        {{/items}}      </div>'}}($),function(y){"use strict";function o(t){function l(){var t=!1;return(x.params.convertToPopover||x.params.onlyInPopover)&&!x.inline&&x.params.input&&(x.params.onlyInPopover?t=!0:y.device.ios?t=!!y.device.ipad:768<=y(window).width()&&(t=!0)),t}function e(){return!!(x.opened&&x.container&&0<x.container.length&&0<x.container.parents(".popover").length)}function i(t){var e=(t=new Date(t)).getFullYear(),n=t.getMonth(),i=n+1,a=t.getDate(),r=t.getDay();return x.params.dateFormat.replace(/yyyy/g,e).replace(/yy/g,(e+"").substring(2)).replace(/mm/g,i<10?"0"+i:i).replace(/m/g,i).replace(/MM/g,x.params.monthNames[n]).replace(/M/g,x.params.monthNamesShort[n]).replace(/dd/g,a<10?"0"+a:a).replace(/d/g,a).replace(/DD/g,x.params.dayNames[r]).replace(/D/g,x.params.dayNamesShort[r])}function n(t){if(t.preventDefault(),!x.opened&&(x.open(),x.params.scrollToInput&&!l())){var e=x.input.parents(".page-content");if(0===e.length)return;var n,i=parseInt(e.css("padding-top"),10),a=parseInt(e.css("padding-bottom"),10),r=e[0].offsetHeight-i-x.container.height(),o=e[0].scrollHeight-i-x.container.height(),s=x.input.offset().top-i+x.input[0].offsetHeight;if(r<s){var c=e.scrollTop()+s-r;o<c+r&&(n=c+r-o+a,r==o&&(n=x.container.height()),e.css({"padding-bottom":n+"px"})),e.scrollTop(c,300)}}}function a(t){e()||(x.input&&0<x.input.length?t.target!==x.input[0]&&0===y(t.target).parents(".weui-picker-modal").length&&x.close():0===y(t.target).parents(".weui-picker-modal").length&&x.close())}function r(){x.opened=!1,x.input&&0<x.input.length&&x.input.parents(".page-content").css({"padding-bottom":""}),x.params.onClose&&x.params.onClose(x),x.destroyCalendarEvents()}var x=this;for(var o in t=t||{},c)void 0===t[o]&&(t[o]=c[o]);x.params=t,x.initialized=!1,x.inline=!!x.params.container,x.isH="horizontal"===x.params.direction;var w=(x.isH,1);return x.animating=!1,x.addValue=function(t){if(x.params.multiple){x.value||(x.value=[]);for(var e,n=0;n<x.value.length;n++)new Date(t).getTime()===new Date(x.value[n]).getTime()&&(e=n);void 0===e?x.value.push(t):x.value.splice(e,1),x.updateValue()}else x.value=[t],x.updateValue()},x.setValue=function(t){var e=new Date(t[0]);x.setYearMonth(e.getFullYear(),e.getMonth()),x.addValue(+e)},x.updateValue=function(){var t,e;for(x.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected"),t=0;t<x.value.length;t++){var n=new Date(x.value[t]);x.wrapper.find('.picker-calendar-day[data-date="'+n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()+'"]').addClass("picker-calendar-day-selected")}if(x.params.onChange&&x.params.onChange(x,x.value.map(i),x.value.map(function(t){return+new Date("string"==typeof t?t.split(/\D/).filter(function(t){return!!t}).join("-"):t)})),x.input&&0<x.input.length){if(x.params.formatValue)e=x.params.formatValue(x,x.value);else{for(e=[],t=0;t<x.value.length;t++)e.push(i(x.value[t]));e=e.join(", ")}y(x.input).val(e),y(x.input).trigger("change")}},x.initCalendarEvents=function(){function t(t){if(!r&&!a){a=!0;var e=y.getTouchPosition(t);o=l=e.x,s=l=e.y,u=(new Date).getTime(),g=!(f=0),v=void 0,p=x.monthsTranslate}}function e(t){if(a){var e=y.getTouchPosition(t);if(c=e.x,l=e.y,void 0===v&&(v=!!(v||Math.abs(l-s)>Math.abs(c-o))),x.isH&&v)return void(a=!1);if(t.preventDefault(),x.animating)return void(a=!1);g=!1,r||(r=!0,h=x.wrapper[0].offsetWidth,d=x.wrapper[0].offsetHeight,x.wrapper.transition(0)),t.preventDefault(),m=x.isH?c-o:l-s,f=m/(x.isH?h:d),p=100*(x.monthsTranslate*w+f),x.wrapper.transform("translate3d("+(x.isH?p:0)+"%, "+(x.isH?0:p)+"%, 0)")}}function n(t){return a&&r?(a=r=!1,(new Date).getTime()-u<300?Math.abs(m)<10?x.resetMonth():10<=m?x.prevMonth():x.nextMonth():f<=-.5?x.nextMonth():.5<=f?x.prevMonth():x.resetMonth(),void setTimeout(function(){g=!0},100)):void(a=r=!1)}function i(t){if(g){var e=y(t.target).parents(".picker-calendar-day");if(0===e.length&&y(t.target).hasClass("picker-calendar-day")&&(e=y(t.target)),0!==e.length&&!e.hasClass("picker-calendar-day-disabled")){e.hasClass("picker-calendar-day-next")&&x.nextMonth(),e.hasClass("picker-calendar-day-prev")&&x.prevMonth();var n=e.attr("data-year"),i=e.attr("data-month"),a=e.attr("data-day");x.params.onDayClick&&x.params.onDayClick(x,e[0],n,i,a),x.addValue(new Date(n,i,a).getTime()),x.params.closeOnSelect&&!x.params.multiple&&x.close()}}}var a,r,o,s,c,l,u,p,h,d,f,m,v,g=!0;x.container.find(".picker-calendar-prev-month").on("click",x.prevMonth),x.container.find(".picker-calendar-next-month").on("click",x.nextMonth),x.container.find(".picker-calendar-prev-year").on("click",x.prevYear),x.container.find(".picker-calendar-next-year").on("click",x.nextYear),x.wrapper.on("click",i),x.params.touchMove&&(x.wrapper.on(y.touchEvents.start,t),x.wrapper.on(y.touchEvents.move,e),x.wrapper.on(y.touchEvents.end,n)),x.container[0].f7DestroyCalendarEvents=function(){x.container.find(".picker-calendar-prev-month").off("click",x.prevMonth),x.container.find(".picker-calendar-next-month").off("click",x.nextMonth),x.container.find(".picker-calendar-prev-year").off("click",x.prevYear),x.container.find(".picker-calendar-next-year").off("click",x.nextYear),x.wrapper.off("click",i),x.params.touchMove&&(x.wrapper.off(y.touchEvents.start,t),x.wrapper.off(y.touchEvents.move,e),x.wrapper.off(y.touchEvents.end,n))}},x.destroyCalendarEvents=function(t){"f7DestroyCalendarEvents"in x.container[0]&&x.container[0].f7DestroyCalendarEvents()},x.daysInMonth=function(t){var e=new Date(t);return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},x.monthHTML=function(t,e){var n=(t=new Date(t)).getFullYear(),i=t.getMonth();t.getDate(),"next"===e&&(t=11===i?new Date(n+1,0):new Date(n,i+1,1)),"prev"===e&&(t=0===i?new Date(n-1,11):new Date(n,i-1,1)),"next"!==e&&"prev"!==e||(i=t.getMonth(),n=t.getFullYear());var a=x.daysInMonth(new Date(t.getFullYear(),t.getMonth()).getTime()-864e6),r=x.daysInMonth(t),o=new Date(t.getFullYear(),t.getMonth()).getDay();0===o&&(o=7);var s,c,l,u=[],p="",h=x.params.firstDay-1+0,d=(new Date).setHours(0,0,0,0),f=x.params.minDate?new Date(x.params.minDate).getTime():null,m=x.params.maxDate?new Date(x.params.maxDate).getTime():null;if(x.value&&x.value.length)for(c=0;c<x.value.length;c++)u.push(new Date(x.value[c]).setHours(0,0,0,0));for(c=1;c<=6;c++){var v="";for(l=1;l<=7;l++){var g=l,w=++h-o,y="";(s=w<0?(w=a+w+1,y+=" picker-calendar-day-prev",new Date(i-1<0?n-1:n,i-1<0?11:i-1,w).getTime()):r<(w+=1)?(w-=r,y+=" picker-calendar-day-next",new Date(11<i+1?n+1:n,11<i+1?0:i+1,w).getTime()):new Date(n,i,w).getTime())===d&&(y+=" picker-calendar-day-today"),0<=u.indexOf(s)&&(y+=" picker-calendar-day-selected"),0<=x.params.weekendDays.indexOf(g-1)&&(y+=" picker-calendar-day-weekend"),(f&&s<f||m&&m<s)&&(y+=" picker-calendar-day-disabled");var T=(s=new Date(s)).getFullYear(),k=s.getMonth();v+='<div data-year="'+T+'" data-month="'+k+'" data-day="'+w+'" class="picker-calendar-day'+y+'" data-date="'+T+"-"+k+"-"+w+'"><span>'+w+"</span></div>"}p+='<div class="picker-calendar-row">'+v+"</div>"}return'<div class="picker-calendar-month" data-year="'+n+'" data-month="'+i+'">'+p+"</div>"},x.animating=!1,x.updateCurrentMonthYear=function(t){void 0===t?(x.currentMonth=parseInt(x.months.eq(1).attr("data-month"),10),x.currentYear=parseInt(x.months.eq(1).attr("data-year"),10)):(x.currentMonth=parseInt(x.months.eq("next"===t?x.months.length-1:0).attr("data-month"),10),x.currentYear=parseInt(x.months.eq("next"===t?x.months.length-1:0).attr("data-year"),10)),x.container.find(".current-month-value").text(x.params.monthNames[x.currentMonth]),x.container.find(".current-year-value").text(x.currentYear)},x.onMonthChangeStart=function(t){x.updateCurrentMonthYear(t),x.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var e="next"===t?x.months.length-1:0;x.months.eq(e).addClass("picker-calendar-month-current"),x.months.eq("next"===t?e-1:1+e).addClass("next"===t?"picker-calendar-month-prev":"picker-calendar-month-next"),x.params.onMonthYearChangeStart&&x.params.onMonthYearChangeStart(x,x.currentYear,x.currentMonth)},x.onMonthChangeEnd=function(t,e){var n,i,a;x.animating=!1,x.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove(),void 0===t&&(t="next",e=!0),e?(x.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),i=x.monthHTML(new Date(x.currentYear,x.currentMonth),"prev"),n=x.monthHTML(new Date(x.currentYear,x.currentMonth),"next")):a=x.monthHTML(new Date(x.currentYear,x.currentMonth),t),"next"!==t&&!e||x.wrapper.append(a||n),"prev"!==t&&!e||x.wrapper.prepend(a||i),x.months=x.wrapper.find(".picker-calendar-month"),x.setMonthsTranslate(x.monthsTranslate),x.params.onMonthAdd&&x.params.onMonthAdd(x,"next"===t?x.months.eq(x.months.length-1)[0]:x.months.eq(0)[0]),x.params.onMonthYearChangeEnd&&x.params.onMonthYearChangeEnd(x,x.currentYear,x.currentMonth)},x.setMonthsTranslate=function(t){t=t||x.monthsTranslate||0,void 0===x.monthsTranslate&&(x.monthsTranslate=t),x.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var e=100*-(t+1)*w,n=100*-t*w,i=100*-(t-1)*w;x.months.eq(0).transform("translate3d("+(x.isH?e:0)+"%, "+(x.isH?0:e)+"%, 0)").addClass("picker-calendar-month-prev"),x.months.eq(1).transform("translate3d("+(x.isH?n:0)+"%, "+(x.isH?0:n)+"%, 0)").addClass("picker-calendar-month-current"),x.months.eq(2).transform("translate3d("+(x.isH?i:0)+"%, "+(x.isH?0:i)+"%, 0)").addClass("picker-calendar-month-next")},x.nextMonth=function(t){void 0!==t&&"object"!=typeof t||(t="",x.params.animate||(t=0));var e=parseInt(x.months.eq(x.months.length-1).attr("data-month"),10),n=parseInt(x.months.eq(x.months.length-1).attr("data-year"),10),i=new Date(n,e).getTime(),a=!x.animating;if(x.params.maxDate&&i>new Date(x.params.maxDate).getTime())return x.resetMonth();if(x.monthsTranslate--,e===x.currentMonth){var r=100*-x.monthsTranslate*w,o=y(x.monthHTML(i,"next")).transform("translate3d("+(x.isH?r:0)+"%, "+(x.isH?0:r)+"%, 0)").addClass("picker-calendar-month-next");x.wrapper.append(o[0]),x.months=x.wrapper.find(".picker-calendar-month"),x.params.onMonthAdd&&x.params.onMonthAdd(x,x.months.eq(x.months.length-1)[0])}x.animating=!0,x.onMonthChangeStart("next");var s=100*x.monthsTranslate*w;x.wrapper.transition(t).transform("translate3d("+(x.isH?s:0)+"%, "+(x.isH?0:s)+"%, 0)"),a&&x.wrapper.transitionEnd(function(){x.onMonthChangeEnd("next")}),x.params.animate||x.onMonthChangeEnd("next")},x.prevMonth=function(t){void 0!==t&&"object"!=typeof t||(t="",x.params.animate||(t=0));var e=parseInt(x.months.eq(0).attr("data-month"),10),n=parseInt(x.months.eq(0).attr("data-year"),10),i=new Date(n,e+1,-1).getTime(),a=!x.animating;if(x.params.minDate&&i<new Date(x.params.minDate).getTime())return x.resetMonth();if(x.monthsTranslate++,e===x.currentMonth){var r=100*-x.monthsTranslate*w,o=y(x.monthHTML(i,"prev")).transform("translate3d("+(x.isH?r:0)+"%, "+(x.isH?0:r)+"%, 0)").addClass("picker-calendar-month-prev");x.wrapper.prepend(o[0]),x.months=x.wrapper.find(".picker-calendar-month"),x.params.onMonthAdd&&x.params.onMonthAdd(x,x.months.eq(0)[0])}x.animating=!0,x.onMonthChangeStart("prev");var s=100*x.monthsTranslate*w;x.wrapper.transition(t).transform("translate3d("+(x.isH?s:0)+"%, "+(x.isH?0:s)+"%, 0)"),a&&x.wrapper.transitionEnd(function(){x.onMonthChangeEnd("prev")}),x.params.animate||x.onMonthChangeEnd("prev")},x.resetMonth=function(t){void 0===t&&(t="");var e=100*x.monthsTranslate*w;x.wrapper.transition(t).transform("translate3d("+(x.isH?e:0)+"%, "+(x.isH?0:e)+"%, 0)")},x.setYearMonth=function(t,e,n){var i;if(void 0===t&&(t=x.currentYear),void 0===e&&(e=x.currentMonth),void 0!==n&&"object"!=typeof n||(n="",x.params.animate||(n=0)),i=t<x.currentYear?new Date(t,e+1,-1).getTime():new Date(t,e).getTime(),x.params.maxDate&&i>new Date(x.params.maxDate).getTime())return!1;if(x.params.minDate&&i<new Date(x.params.minDate).getTime())return!1;var a=new Date(x.currentYear,x.currentMonth).getTime(),r=a<i?"next":"prev",o=x.monthHTML(new Date(t,e));x.monthsTranslate=x.monthsTranslate||0;var s,c,l=x.monthsTranslate,u=!x.animating;a<i?(x.monthsTranslate--,x.animating||x.months.eq(x.months.length-1).remove(),x.wrapper.append(o),x.months=x.wrapper.find(".picker-calendar-month"),s=100*-(l-1)*w,x.months.eq(x.months.length-1).transform("translate3d("+(x.isH?s:0)+"%, "+(x.isH?0:s)+"%, 0)").addClass("picker-calendar-month-next")):(x.monthsTranslate++,x.animating||x.months.eq(0).remove(),x.wrapper.prepend(o),x.months=x.wrapper.find(".picker-calendar-month"),s=100*-(l+1)*w,x.months.eq(0).transform("translate3d("+(x.isH?s:0)+"%, "+(x.isH?0:s)+"%, 0)").addClass("picker-calendar-month-prev")),x.params.onMonthAdd&&x.params.onMonthAdd(x,"next"==r?x.months.eq(x.months.length-1)[0]:x.months.eq(0)[0]),x.animating=!0,x.onMonthChangeStart(r),c=100*x.monthsTranslate*w,x.wrapper.transition(n).transform("translate3d("+(x.isH?c:0)+"%, "+(x.isH?0:c)+"%, 0)"),u&&x.wrapper.transitionEnd(function(){x.onMonthChangeEnd(r,!0)}),x.params.animate||x.onMonthChangeEnd(r)},x.nextYear=function(){x.setYearMonth(x.currentYear+1)},x.prevYear=function(){x.setYearMonth(x.currentYear-1)},x.layout=function(){var t,e,n="",i=x.value&&x.value.length?x.value[0]:(new Date).setHours(0,0,0,0),a='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(x.monthHTML(i,"prev")+x.monthHTML(i)+x.monthHTML(i,"next"))+"</div></div>",r="";if(x.params.weekHeader){for(t=0;t<7;t++){var o=6<t+x.params.firstDay?t-7+x.params.firstDay:t+x.params.firstDay,s=x.params.dayNamesShort[o];r+='<div class="picker-calendar-week-day '+(0<=x.params.weekendDays.indexOf(o)?"picker-calendar-week-day-weekend":"")+'"> '+s+"</div>"}r='<div class="picker-calendar-week-days">'+r+"</div>"}n="weui-picker-calendar "+(x.params.cssClass||""),x.inline||(n="weui-picker-modal "+n);var c=x.params.toolbar?x.params.toolbarTemplate.replace(/{{closeText}}/g,x.params.toolbarCloseText):"";x.params.toolbar&&(c=x.params.toolbarTemplate.replace(/{{closeText}}/g,x.params.toolbarCloseText).replace(/{{monthPicker}}/g,x.params.monthPicker?x.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,x.params.yearPicker?x.params.yearPickerTemplate:"")),e='<div class="'+n+'">'+c+'<div class="picker-modal-inner">'+r+a+"</div></div>",x.pickerHTML=e},x.params.input&&(x.input=y(x.params.input),0<x.input.length&&(x.params.inputReadOnly&&x.input.prop("readOnly",!0),x.inline||x.input.on("click",n),x.params.inputReadOnly&&x.input.on("focus mousedown",function(t){t.preventDefault()}))),x.inline||y(document).on("click touchend",a),x.opened=!1,x.open=function(){var t=l()&&!1,e=!1;x.opened||(x.value||x.params.value&&(x.value=x.params.value,e=!0),x.layout(),t?(x.pickerHTML='<div class="popover popover-picker-calendar"><div class="popover-inner">'+x.pickerHTML+"</div></div>",x.popover=y.popover(x.pickerHTML,x.params.input,!0),x.container=y(x.popover).find(".weui-picker-modal"),y(x.popover).on("close",function(){r()})):x.inline?(x.container=y(x.pickerHTML),x.container.addClass("picker-modal-inline"),y(x.params.container).append(x.container)):(x.container=y(y.openPicker(x.pickerHTML)),y(x.container).on("close",function(){r()})),(x.container[0].f7Calendar=x).wrapper=x.container.find(".picker-calendar-months-wrapper"),x.months=x.wrapper.find(".picker-calendar-month"),x.updateCurrentMonthYear(),x.monthsTranslate=0,x.setMonthsTranslate(),x.initCalendarEvents(),e&&x.updateValue()),x.opened=!0,x.initialized=!0,x.params.onMonthAdd&&x.months.each(function(){x.params.onMonthAdd(x,this)}),x.params.onOpen&&x.params.onOpen(x)},x.close=function(){return x.opened&&!x.inline?(x.animating=!1,e()?void y.closePicker(x.popover):void y.closePicker(x.container)):void 0},x.destroy=function(){x.close(),x.params.input&&0<x.input.length&&(x.input.off("click focus",n),x.input.data("calendar",null)),y("html").off("click",a)},x.inline&&x.open(),x}function s(t){return t<10?"0"+t:t}var c;y.fn.calendar=function(a,r){return a=a||{},this.each(function(){var t=y(this);if(t[0]){var e={};"INPUT"===t[0].tagName.toUpperCase()?e.input=t:e.container=t;var n=t.data("calendar");if(!n)if("string"==typeof a);else{if(!a.value&&t.val()&&(a.value=[t.val()]),!a.value){var i=new Date;a.value=[i.getFullYear()+"-"+s(i.getMonth()+1)+"-"+s(i.getDate())]}n=t.data("calendar",new o(y.extend(e,a)))}"string"==typeof a&&n[a].call(n,r)}})},c=y.fn.calendar.prototype.defaults={value:void 0,monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],firstDay:1,weekendDays:[0,6],multiple:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,touchMove:!0,animate:!0,closeOnSelect:!0,monthPicker:!0,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="javascript:;" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"></i></a><div class="current-month-value"></div><a href="javascript:;" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"></i></a></div>',yearPicker:!0,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="javascript:;" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"></i></a><span class="current-year-value"></span><a href="javascript:;" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"></i></a></div>',weekHeader:!0,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{yearPicker}}{{monthPicker}}</div></div>'}}($),function(i){"use strict";function a(t){return t<10?"0"+t:t}function r(t,e){this.input=i(t),this.params=e,this.initMonthes="01 02 03 04 05 06 07 08 09 10 11 12".split(" "),this.initYears=function(){for(var t=[],e=1950;e<=2030;e++)t.push(e);return t}();var n=i.extend({},e,this.getConfig());i(this.input).picker(n)}var t;r.prototype={getDays:function(t){for(var e=[],n=1;n<=(t||31);n++)e.push(n<10?"0"+n:n);return e},getDaysByMonthAndYear:function(t,e){var n=new Date(e,parseInt(t)+1-1,1),i=new Date(n-1);return this.getDays(i.getDate())},getConfig:function(){var s,t=new Date,c=this.params,l=this,e={rotateEffect:!1,cssClass:"datetime-picker",value:[t.getFullYear(),a(t.getMonth()+1),a(t.getDate()),a(t.getHours()),a(t.getMinutes())],onChange:function(t,e,n){var i=(t.cols,l.getDaysByMonthAndYear(e[1],e[0])),a=e[2];a>i.length&&(a=i.length),t.cols[4].setValue(a);var r=new Date(e[0]+"-"+e[1]+"-"+e[2]),o=!0;c.min&&r<+new Date("function"==typeof c.min?c.min():c.min)&&(t.setValue(s),o=!1);c.max&&+new Date("function"==typeof c.max?c.max():c.max)<r&&(t.setValue(s),o=!1);o&&(s=e),l.params.onChange&&l.params.onChange.apply(this,arguments)},formatValue:function(t,e,n){return l.params.format(t,e,n)},cols:[{values:function(){for(var t=[],e=1950;e<=2050;e++)t.push(e);return t}()},{divider:!0,content:c.yearSplit},{values:["01","02","03","04","05","06","07","08","09","10","11","12"]},{divider:!0,content:c.monthSplit},{values:function(){for(var t=[],e=1;e<=31;e++)t.push(a(e));return t}()}]};c.dateSplit&&e.cols.push({divider:!0,content:c.dateSplit}),e.cols.push({divider:!0,content:c.datetimeSplit});var n=l.params.times();n&&n.length&&(e.cols=e.cols.concat(n));var i=this.input.val();return i&&(e.value=c.parse(i)),this.params.value&&(this.input.val(this.params.value),e.value=c.parse(this.params.value)),e}},i.fn.datetimePicker=function(n){return n=i.extend({},t,n),this.each(function(){if(this){var t=i(this),e=t.data("datetime");return e||t.data("datetime",new r(this,n)),e}})},t=i.fn.datetimePicker.prototype.defaults={input:void 0,min:void 0,max:void 0,yearSplit:"-",monthSplit:"-",dateSplit:"",datetimeSplit:" ",times:function(){return[{values:function(){for(var t=[],e=0;e<24;e++)t.push(a(e));return t}()},{divider:!0,content:":"},{values:function(){for(var t=[],e=0;e<59;e++)t.push(a(e));return t}()}]},format:function(t,e){return t.cols.map(function(t){return t.value||t.content}).join("")},parse:function(t){var e=t.split(this.datetimeSplit);return e[0].split(/\D/).concat(e[1].split(/:|时|分|秒/)).filter(function(t){return!!t})}}}($),function(i){"use strict";i.openPopup=function(t,e){i.closePopup(),(t=i(t)).show(),t.width(),t.addClass("weui-popup-container-visible");var n=t.find(".weui-popup-modal");n.width(),n.transitionEnd(function(){n.trigger("open")})},i.closePopup=function(t,e){(t=i(t||".weui-popup-container-visible")).find(".weui-popup-modal").transitionEnd(function(){i(this).trigger("close"),t.hide(),e&&t.remove()}),t.removeClass("weui-popup-container-visible")},i(document).on("click",".close-popup, .weui-popup-overlay",function(){i.closePopup()}).on("click",".open-popup",function(){i(i(this).data("target")).popup()}).on("click",".weui-popup-container",function(t){i(t.target).hasClass("weui-popup-container")&&i.closePopup()}),i.fn.popup=function(){return this.each(function(){i.openPopup(this)})}}($),function(n){"use strict";function i(t){var e=n.getTouchPosition(t);l=e,u=p=0,o.addClass("touching")}function a(t){if(!l)return!1;t.preventDefault(),t.stopPropagation();var e=n.getTouchPosition(t);u=e.x-l.x,0<(p=e.y-l.y)&&(p=Math.sqrt(p)),o.css("transform","translate3d(0, "+p+"px, 0)")}function r(){o.removeClass("touching"),o.attr("style",""),p<0&&Math.abs(p)>.38*o.height()&&n.closeNotification(),Math.abs(u)<=1&&Math.abs(p)<=1&&o.trigger("noti-click"),l=!1}var o,s,c,l,u,p;n.notification=n.noti=function(t){t=n.extend({},s,t),(o=n(".notification"))[0]||function(t){t.on(n.touchEvents.start,i),t.on(n.touchEvents.move,a),t.on(n.touchEvents.end,r)}(o=n('<div class="notification"></div>').appendTo(document.body)),o.off("noti-click"),t.onClick&&o.on("noti-click",function(){t.onClick(t.data)}),o.html(n.t7.compile(t.tpl)(t)),o.show(),o.addClass("notification-in"),o.data("params",t);var e=function(){c&&(clearTimeout(c),c=null),c=setTimeout(function(){o.hasClass("touching")?e():n.closeNotification()},t.time)};e()},n.closeNotification=function(){if(c&&clearTimeout(c),c=null,n(".notification").removeClass("notification-in").transitionEnd(function(){n(this).remove()})[0]){var t=n(".notification").data("params");t&&t.onClose&&t.onClose(t.data)}},s=n.noti.prototype.defaults={title:void 0,text:void 0,media:void 0,time:4e3,onClick:void 0,onClose:void 0,data:void 0,tpl:'<div class="notification-inner">{{#if media}}<div class="notification-media">{{media}}</div>{{/if}}<div class="notification-content">{{#if title}}<div class="notification-title">{{title}}</div>{{/if}}{{#if text}}<div class="notification-text">{{text}}</div>{{/if}}</div><div class="notification-handle-bar"></div></div>'}}($),function(r){"use strict";var o;r.toptip=function(t,e,n){if(t){"string"==typeof e&&(n=e,e=void 0),e=e||3e3;var i=n?"bg-"+n:"bg-danger",a=r(".weui_toptips").remove();(a=r('<div class="weui_toptips"></div>').appendTo(document.body)).html(t),a[0].className="weui_toptips "+i,clearTimeout(o),a.hasClass("weui_toptips_visible")||(a.show().width(),a.addClass("weui_toptips_visible")),o=setTimeout(function(){a.removeClass("weui_toptips_visible").transitionEnd(function(){a.remove()})},e)}}}($);