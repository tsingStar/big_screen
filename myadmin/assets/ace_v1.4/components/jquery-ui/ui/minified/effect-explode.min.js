!function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(b){return b.effects.effect.explode=function(e,i){function t(){y.push(this),y.length===a*h&&(l.css({visibility:"visible"}),b(y).remove(),p||l.hide(),i())}var o,s,f,n,d,c,a=e.pieces?Math.round(Math.sqrt(e.pieces)):3,h=a,l=b(this),p="show"===b.effects.setMode(l,e.mode||"hide"),r=l.show().css("visibility","hidden").offset(),u=Math.ceil(l.outerWidth()/h),v=Math.ceil(l.outerHeight()/a),y=[];for(o=0;o<a;o++)for(n=r.top+o*v,c=o-(a-1)/2,s=0;s<h;s++)f=r.left+s*u,d=s-(h-1)/2,l.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*u,top:-o*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:u,height:v,left:f+(p?d*u:0),top:n+(p?c*v:0),opacity:p?0:1}).animate({left:f+(p?0:d*u),top:n+(p?0:c*v),opacity:p?1:0},e.duration||500,e.easing,t)}});