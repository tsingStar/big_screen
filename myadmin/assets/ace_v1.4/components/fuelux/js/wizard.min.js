!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function($){function r(t,e){var i;this.$element=$(t),this.options=$.extend({},$.fn.wizard.defaults,e),this.options.disablePreviousStep="previous"===this.$element.attr("data-restrict")||this.options.disablePreviousStep,this.currentStep=this.options.selectedItem.step,this.numSteps=this.$element.find(".steps li").length,this.$prevBtn=this.$element.find("button.btn-prev"),this.$nextBtn=this.$element.find("button.btn-next"),0===this.$element.children(".steps-container").length&&(this.$element.addClass("no-steps-container"),window&&window.console&&window.console.warn&&window.console.warn('please update your wizard markup to include ".steps-container" as seen in http://getfuelux.com/javascript.html#wizard-usage-markup')),i=this.$nextBtn.children().detach(),this.nextText=$.trim(this.$nextBtn.text()),this.$nextBtn.append(i),this.$prevBtn.on("click.fu.wizard",$.proxy(this.previous,this)),this.$nextBtn.on("click.fu.wizard",$.proxy(this.next,this)),this.$element.on("click.fu.wizard","li.complete",$.proxy(this.stepclicked,this)),this.selectedItem(this.options.selectedItem),this.options.disablePreviousStep&&(this.$prevBtn.attr("disabled",!0),this.$element.find(".steps").addClass("previous-disabled"))}var t=$.fn.wizard;r.prototype={constructor:r,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},addSteps:function(t){var e,i,s,n,a,r,d=[].slice.call(arguments).slice(1),l=this.$element.find(".steps"),p=this.$element.find(".step-content");for(t=-1===t||t>this.numSteps+1?this.numSteps+1:t,d[0]instanceof Array&&(d=d[0]),a=l.find("li:nth-child("+t+")"),n=p.find(".step-pane:nth-child("+t+")"),a.length<1&&(a=null),e=0,i=d.length;e<i;e++)(r=$('<li data-step="'+t+'"><span class="badge badge-info"></span></li>')).append(d[e].label||"").append('<span class="chevron"></span>'),r.find(".badge").append(d[e].badge||t),(s=$('<div class="step-pane" data-step="'+t+'"></div>')).append(d[e].pane||""),a?(a.before(r),n.before(s)):(l.append(r),p.append(s)),t++;this.syncSteps(),this.numSteps=l.find("li").length,this.setState()},removeSteps:function(t,i){var e,s="nextAll",n=0,a=this.$element.find(".steps"),r=this.$element.find(".step-content");i=void 0!==i?i:1,t>a.find("li").length?e=a.find("li:last"):(e=a.find("li:nth-child("+t+")").prev()).length<1&&(s="children",e=a),e[s]().each(function(){var t=$(this),e=t.attr("data-step");return n<i&&(t.remove(),r.find('.step-pane[data-step="'+e+'"]:first').remove(),void n++)}),this.syncSteps(),this.numSteps=a.find("li").length,this.setState()},setState:function(){var t=1<this.currentStep,e=1===this.currentStep,i=this.currentStep===this.numSteps;this.options.disablePreviousStep||this.$prevBtn.attr("disabled",!0==e||!1==t);var s=this.$nextBtn.attr("data-last");if(s){this.lastText=s;var n=this.nextText;!0==i?(n=this.lastText,this.$element.addClass("complete")):this.$element.removeClass("complete");var a=this.$nextBtn.children().detach();this.$nextBtn.text(n).append(a)}var r=this.$element.find(".steps li");r.removeClass("active").removeClass("complete"),r.find("span.badge").removeClass("badge-info").removeClass("badge-success");var d=".steps li:lt("+(this.currentStep-1)+")",l=this.$element.find(d);l.addClass("complete"),l.find("span.badge").addClass("badge-success");var p=".steps li:eq("+(this.currentStep-1)+")",h=this.$element.find(p);h.addClass("active"),h.find("span.badge").addClass("badge-info");var o=this.$element.find(".step-content"),c=h.attr("data-step");o.find(".step-pane").removeClass("active"),o.find('.step-pane[data-step="'+c+'"]:first').addClass("active"),this.$element.find(".steps").first().attr("style","margin-left: 0");var f=0;this.$element.find(".steps > li").each(function(){f+=$(this).outerWidth()});var u;if((u=this.$element.find(".actions").length?this.$element.width()-this.$element.find(".actions").first().outerWidth():this.$element.width())<f){var m=f-u;this.$element.find(".steps").first().attr("style","margin-left: -"+m+"px"),this.$element.find("li.active").first().position().left<200&&((m+=this.$element.find("li.active").first().position().left-200)<1?this.$element.find(".steps").first().attr("style","margin-left: 0"):this.$element.find(".steps").first().attr("style","margin-left: -"+m+"px"))}if(void 0!==this.initialized){var v=$.Event("changed.fu.wizard");this.$element.trigger(v,{step:this.currentStep})}this.initialized=!0},stepclicked:function(t){var e=$(t.currentTarget),i=this.$element.find(".steps li").index(e);if(!(i<this.currentStep&&this.options.disablePreviousStep)){var s=$.Event("stepclicked.fu.wizard");this.$element.trigger(s,{step:i+1}),s.isDefaultPrevented()||(this.currentStep=i+1,this.setState())}},syncSteps:function(){var s=1,t=this.$element.find(".steps"),n=this.$element.find(".step-content");t.children().each(function(){var t=$(this),e=t.find(".badge"),i=t.attr("data-step");isNaN(parseInt(e.html(),10))||e.html(s),t.attr("data-step",s),n.find('.step-pane[data-step="'+i+'"]:last').attr("data-step",s),s++})},previous:function(){if(!this.options.disablePreviousStep&&1!==this.currentStep){var t=$.Event("actionclicked.fu.wizard");if(this.$element.trigger(t,{step:this.currentStep,direction:"previous"}),!t.isDefaultPrevented()&&(this.currentStep-=1,this.setState(),this.$prevBtn.is(":focus"))){var e=this.$element.find(".active").find("input, select, textarea")[0];void 0!==e?$(e).focus():0===this.$element.find(".active input:first").length&&this.$prevBtn.is(":disabled")&&this.$nextBtn.focus()}}},next:function(){var t=$.Event("actionclicked.fu.wizard");if(this.$element.trigger(t,{step:this.currentStep,direction:"next"}),!t.isDefaultPrevented()&&(this.currentStep<this.numSteps?(this.currentStep+=1,this.setState()):this.$element.trigger("finished.fu.wizard"),this.$nextBtn.is(":focus"))){var e=this.$element.find(".active").find("input, select, textarea")[0];void 0!==e?$(e).focus():0===this.$element.find(".active input:first").length&&this.$nextBtn.is(":disabled")&&this.$prevBtn.focus()}},selectedItem:function(t){var e,i;return t?(i=t.step||-1,1<=(i=Number(this.$element.find('.steps li[data-name="'+i+'"]').first().attr("data-step"))||Number(i))&&i<=this.numSteps?(this.currentStep=i,this.setState()):(i=this.$element.find(".steps li.active:first").attr("data-step"),isNaN(i)||(this.currentStep=parseInt(i,10),this.setState())),e=this):(e={step:this.currentStep},this.$element.find(".steps li.active:first[data-name]").length&&(e.stepname=this.$element.find(".steps li.active:first").attr("data-name"))),e}},$.fn.wizard=function(s){var n,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=$(this),e=t.data("fu.wizard"),i="object"==typeof s&&s;e||t.data("fu.wizard",e=new r(this,i)),"string"==typeof s&&(n=e[s].apply(e,a))});return void 0===n?t:n},$.fn.wizard.defaults={disablePreviousStep:!1,selectedItem:{step:-1}},$.fn.wizard.Constructor=r,$.fn.wizard.noConflict=function(){return $.fn.wizard=t,this},$(document).on("mouseover.fu.wizard.data-api","[data-initialize=wizard]",function(t){var e=$(t.target).closest(".wizard");e.data("fu.wizard")||e.wizard(e.data())}),$(function(){$("[data-initialize=wizard]").each(function(){var t=$(this);t.data("fu.wizard")||t.wizard(t.data())})})});