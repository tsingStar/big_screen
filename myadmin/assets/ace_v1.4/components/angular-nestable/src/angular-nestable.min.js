!function(e,t,n,o){n.module("ng-nestable",[]).provider("$nestable",function(){var t="$item",n={};this.$get=function(){return{modelName:t,defaultOptions:n}},this.modelName=function(e){t=e},this.defaultOptions=function(e){n=e}}).directive("ngNestable",["$compile","$nestable",function(r,t){function c(e,i){var t=$('<div class="dd"></div>'),l=$('<ol class="dd-list"></ol>').appendTo(t);return e.forEach(function t(e){var n=Array.prototype.slice.call(arguments).slice(-1)[0];n instanceof $||(n=l);var o=$('<li class="dd-item"></li>');if($('<div ng-nestable-item class="dd-handle"></div>').append(i).appendTo(o),n.append(o),o.data("item",e.item),function(e){return"[object Array]"===Object.prototype.toString.call(e)}(e.children)&&0<e.children.length){var a=$('<ol class="dd-list"></ol>').appendTo(o);e.children.forEach(function(e){t.apply(this,Array.prototype.slice.call(arguments).concat([a]))})}}),t}return{restrict:"A",require:"ngModel",compile:function(e){var l=e.html();return e.empty(),function(n,o,e,a){var i=$.extend({},t.defaultOptions,n.$eval(e.ngNestable));n.$watchCollection(function(){return a.$modelValue},function(e){if(e){var t=c(e=function(e,t){var n=t.$formatters,o=n.length;for(t.$modelValue=e;o--;)e=n[o](e);return e}(e,a),l);o.empty().append(t),r(t)(n),t.nestable(i),t.on("change",function(){a.$setViewValue(t.nestable("serialize")),n&&n.$root&&n.$root.$$phase||n.$apply()})}})}},controller:n.noop}}]).directive("ngNestableItem",["$nestable",function(n){return{scope:!0,require:"^ngNestable",link:function(e,t){e[n.modelName]=t.parent().data("item")}}}])}(window,document,window.angular);