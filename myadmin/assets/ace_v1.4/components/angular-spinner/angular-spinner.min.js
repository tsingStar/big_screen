!function(n){"use strict";function e(o,n){return o.module("angularSpinner",[]).constant("SpinJSSpinner",n).provider("usSpinnerConfig",function(){var e={},i={};return{setDefaults:function(n){e=n||e},setTheme:function(n,e){i[n]=e},$get:function(){return{config:e,themes:i}}}}).factory("usSpinnerService",["$rootScope",function(e){var n={spin:function(n){e.$broadcast("us-spinner:spin",n)},stop:function(n){e.$broadcast("us-spinner:stop",n)}};return n}]).directive("usSpinner",["SpinJSSpinner","usSpinnerConfig",function(r,p){return{scope:!0,link:function(i,e,t){function s(){i.spinner&&i.spinner.stop()}i.spinner=null,i.key=!!o.isDefined(t.spinnerKey)&&t.spinnerKey,i.startActive=o.isDefined(t.spinnerStartActive)?i.$eval(t.spinnerStartActive):!i.key,i.spin=function(){i.spinner&&i.spinner.spin(e[0])},i.stop=function(){i.startActive=!1,s()},i.$watch(t.usSpinner,function(n){s(),n=o.extend({},p.config,p.themes[t.spinnerTheme],n),i.spinner=new r(n),i.key&&!i.startActive||t.spinnerOn||i.spinner.spin(e[0])},!0),t.spinnerOn&&i.$watch(t.spinnerOn,function(n){n?i.spin():i.stop()}),i.$on("us-spinner:spin",function(n,e){e===i.key&&i.spin()}),i.$on("us-spinner:stop",function(n,e){e===i.key&&i.stop()}),i.$on("$destroy",function(){i.stop(),i.spinner=null})}}}])}"object"==typeof module&&module.exports?module.exports=e(require("angular"),require("spin.js")):"function"==typeof define&&define.amd?define(["angular","spin"],e):e(n.angular,n.Spinner)}(this);