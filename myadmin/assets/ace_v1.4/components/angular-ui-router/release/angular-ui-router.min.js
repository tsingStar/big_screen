"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,V,M){"use strict";function D(e,t){return H(new(H(function(){},{prototype:e})),t)}function b(r){return G(arguments,function(e){e!==r&&G(e,function(e,t){r.hasOwnProperty(t)||(r[t]=e)})}),r}function N(e){if(Object.keys)return Object.keys(e);var r=[];return G(e,function(e,t){r.push(t)}),r}function R(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var r=e.length>>>0,n=Number(arguments[2])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=r);n<r;n++)if(n in e&&e[n]===t)return n;return-1}function F(e,t,r,n){var a,i=function(e,t){var r=[];for(var n in e.path){if(e.path[n]!==t.path[n])break;r.push(e.path[n])}return r}(r,n),o={},u=[];for(var s in i)if(i[s]&&i[s].params&&(a=N(i[s].params)).length)for(var l in a)0<=R(u,a[l])||(u.push(a[l]),o[a[l]]=e[a[l]]);return H({},o,t)}function s(e,t,r){if(!r)for(var n in r=[],e)r.push(n);for(var a=0;a<r.length;a++){var i=r[a];if(e[i]!=t[i])return!1}return!0}function U(e,t){var r={};return G(e,function(e){r[e]=t[e]}),r}function T(t){var r={},e=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return G(e,function(e){e in t&&(r[e]=t[e])}),r}function S(e){var t={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var n in e)-1==R(r,n)&&(t[n]=e[n]);return t}function x(e,r){var n=Y(e),a=n?[]:{};return G(e,function(e,t){r(e,t)&&(a[n?a.length:t]=e)}),a}function z(e,r){var n=Y(e)?[]:{};return G(e,function(e,t){n[t]=r(e,t)}),n}function t(m,g){var e={},u=[],y=e,w=H(m.when(e),{$$promises:e,$$values:e});this.study=function(a){function v(e){return _(e)&&e.then&&e.$$promises}if(!_(a))throw new Error("'invocables' must be an object");var $=N(a||{}),d=[],i=[],o={};return G(a,function t(e,r){if(2!==o[r]){if(i.push(r),1===o[r])throw i.splice(0,R(i,r)),new Error("Cyclic dependency: "+i.join(" -> "));if(o[r]=1,L(e))d.push(r,[function(){return g.get(e)}],u);else{var n=g.annotate(e);G(n,function(e){e!==r&&a.hasOwnProperty(e)&&t(a[e],e)}),d.push(r,e,n)}i.pop(),o[r]=2}}),a=i=o=null,function(u,e,s){function l(){--n||(a||b(h,e.$$values),f.$$values=h,f.$$promises=f.$$promises||!0,delete f.$$inheritedValues,r.resolve(h))}function c(e){f.$$failure=e,r.reject(e)}function t(t,e,r){function n(e){i.reject(e),c(e)}function a(){if(!J(f.$$failure))try{i.resolve(g.invoke(e,s,h)),i.promise.then(function(e){h[t]=e,l()},n)}catch(e){n(e)}}var i=m.defer(),o=0;G(r,function(t){p.hasOwnProperty(t)&&!u.hasOwnProperty(t)&&(o++,p[t].then(function(e){h[t]=e,--o||a()},n))}),o||a(),p[t]=i.promise}if(v(u)&&s===M&&(s=e,e=u,u=null),u){if(!_(u))throw new Error("'locals' must be an object")}else u=y;if(e){if(!v(e))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else e=w;var r=m.defer(),f=r.promise,p=f.$$promises={},h=H({},u),n=1+d.length/3,a=!1;if(J(e.$$failure))return c(e.$$failure),f;e.$$inheritedValues&&b(h,S(e.$$inheritedValues,$)),H(p,e.$$promises),e.$$values?(a=b(h,S(e.$$values,$)),f.$$inheritedValues=S(e.$$values,$),l()):(e.$$inheritedValues&&(f.$$inheritedValues=S(e.$$inheritedValues,$)),e.then(l,c));for(var i=0,o=d.length;i<o;i+=3)u.hasOwnProperty(d[i])?l():t(d[i],d[i+1],d[i+2]);return f}},this.resolve=function(e,t,r,n){return this.study(e)(t,r,n)}}function r(r,n,a){this.fromConfig=function(e,t,r){return J(e.template)?this.fromString(e.template,t):J(e.templateUrl)?this.fromUrl(e.templateUrl,t):J(e.templateProvider)?this.fromProvider(e.templateProvider,t,r):null},this.fromString=function(e,t){return K(e)?e(t):e},this.fromUrl=function(e,t){return K(e)&&(e=e(t)),null==e?null:r.get(e,{cache:n,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return a.invoke(e,null,r||{params:t})}}function l(u,s,e){function t(e,t,r,n){if(m.push(e),$[e])return $[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+u+"'");if(d[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+u+"'");return d[e]=new B.Param(e,t,r,n),d[e]}function r(e,t,r,n){var a=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(r){case!1:a=["(",")"+(n?"?":"")];break;case!0:i=i.replace(/\/$/,""),a=["(?:/(",")|/)?"];break;default:a=["("+r+"|",")?"]}return i+a[0]+t+a[1]}function n(e,t){var r,n,a,i,o;return r=e[2]||e[3],o=s.params[r],a=u.substring(h,e.index),(n=t?e[4]:e[4]||("*"==e[1]?".*":null))&&(i=B.type(n)||D(B.type("string"),{pattern:new RegExp(n,s.caseInsensitive?"i":M)})),{id:r,regexp:n,segment:a,type:i,cfg:o}}s=H({params:{}},_(s)?s:{});var a,i,o,l,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p="^",h=0,v=this.segments=[],$=e?e.params:{},d=this.params=e?e.params.$$new():new B.ParamSet,m=[];for(this.source=u;(a=c.exec(u))&&!(0<=(i=n(a,!1)).segment.indexOf("?"));)o=t(i.id,i.type,i.cfg,"path"),p+=r(i.segment,o.type.pattern.source,o.squash,o.isOptional),v.push(i.segment),h=c.lastIndex;var g=(l=u.substring(h)).indexOf("?");if(0<=g){var y=this.sourceSearch=l.substring(g);if(l=l.substring(0,g),this.sourcePath=u.substring(0,h+g),0<y.length)for(h=0;a=f.exec(y);)o=t((i=n(a,!0)).id,i.type,i.cfg,"search"),h=c.lastIndex}else this.sourcePath=u,this.sourceSearch="";p+=r(l)+(!1===s.strict?"/?":"")+"$",v.push(l),this.regexp=new RegExp(p,s.caseInsensitive?"i":M),this.prefix=v[0],this.$$paramNames=m}function P(e){H(this,e)}function n(c,u){function s(e,t,r){if(!r)return!1;var n=e.invoke(t,t,{$match:r});return!J(n)||n}function e(u,e,a,t,s){function r(e){function t(e){var t=e(a,u);return!!t&&(L(t)&&u.replace().url(t),!0)}if(!e||!e.defaultPrevented){i&&u.url(),i=M;var r,n=p.length;for(r=0;r<n;r++)if(t(p[r]))return;h&&t(h)}}function n(){return f=f||e.$on("$locationChangeSuccess",r)}var i,l=t.baseHref(),o=u.url();return v||n(),{sync:function(){r()},listen:function(){return n()},update:function(e){return e?void(o=u.url()):void(u.url()!==o&&(u.url(o),u.replace()))},push:function(e,t,r){var n=e.format(t||{});null!==n&&t&&t["#"]&&(n+="#"+t["#"]),u.url(n),i=r&&r.$$avoidResync?u.url():M,r&&r.replace&&u.replace()},href:function(e,t,r){if(!e.validates(t))return null;var n=c.html5Mode();V.isObject(n)&&(n=n.enabled),n=n&&s.history;var a=e.format(t);if(r=r||{},n||null===a||(a="#"+c.hashPrefix()+a),null!==a&&t&&t["#"]&&(a+="#"+t["#"]),a=function(e,t,r){return"/"===l?e:t?l.slice(0,-1)+e:r?l.slice(1)+e:e}(a,n,r.absolute),!r.absolute||!a)return a;var i=!n&&a?"/":"",o=u.port();return o=80===o||443===o?"":":"+o,[u.protocol(),"://",u.host(),o,i,a].join("")}}}var f,p=[],h=null,v=!1;this.rule=function(e){if(!K(e))throw new Error("'rule' must be a function");return p.push(e),this},this.otherwise=function(e){if(L(e)){var t=e;e=function(){return t}}else if(!K(e))throw new Error("'rule' must be a function");return h=e,this},this.when=function(e,t){var a,i=L(t);if(L(e)&&(e=u.compile(e)),!i&&!K(t)&&!Y(t))throw new Error("invalid 'handler' in when()");var r={matcher:function(r,n){return i&&(a=u.compile(n),n=["$match",function(e){return a.format(e)}]),H(function(e,t){return s(e,n,r.exec(t.path(),t.search()))},{prefix:L(r.prefix)?r.prefix:""})},regex:function(r,n){if(r.global||r.sticky)throw new Error("when() RegExp must not be global or sticky");return i&&(a=n,n=["$match",function(e){return function(e,r){return e.replace(/\$(\$|\d{1,2})/,function(e,t){return r["$"===t?0:Number(t)]})}(a,e)}]),H(function(e,t){return s(e,n,r.exec(t.path()))},{prefix:function(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}(r)})}},n={matcher:u.isMatcher(e),regex:e instanceof RegExp};for(var o in n)if(n[o])return this.rule(r[o](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===M&&(e=!0),v=e},(this.$get=e).$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function a(a,n){function k(e,t){if(!e)return M;var r=L(e),n=r?e:e.name;if(function(e){return 0===e.indexOf(".")||0===e.indexOf("^")}(n)){if(!t)throw new Error("No reference point given for path '"+n+"'");t=k(t);for(var a=n.split("."),i=0,o=a.length,u=t;i<o;i++)if(""!==a[i]||0!==i){if("^"!==a[i])break;if(!u.parent)throw new Error("Path '"+n+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;a=a.slice(i).join("."),n=u.name+(u.name&&a?".":"")+a}var s=f[n];return!s||!r&&(r||s!==e&&s.self!==e)?M:s}function i(r){var e=(r=D(r,{self:r,resolve:r.resolve||{},toString:function(){return this.name}})).name;if(!L(e)||0<=e.indexOf("@"))throw new Error("State must have a valid name");if(f.hasOwnProperty(e))throw new Error("State '"+e+"' is already defined");var t=-1!==e.indexOf(".")?e.substring(0,e.lastIndexOf(".")):L(r.parent)?r.parent:_(r.parent)&&L(r.parent.name)?r.parent.name:"";if(t&&!f[t])return function(e,t){o[e]||(o[e]=[]),o[e].push(t)}(t,r.self);for(var n in u)K(u[n])&&(r[n]=u[n](r,u.$delegates[n]));return!(f[e]=r)[I]&&r.url&&a.when(r.url,["$match","$stateParams",function(e,t){C.$current.navigable==r&&s(e,t)||C.transitionTo(r,e,{inherit:!0,location:!1})}]),function(e){for(var t=o[e]||[];t.length;)i(t.shift())}(e),r}function e(y,w,l,b,c,S,E,e,t){function x(i,e,t,r,o,u){var s=t?e:U(i.params.$$keys(),e),n={$stateParams:s};o.resolve=c.resolve(i.resolve,n,o.resolve,i);var a=[o.resolve.then(function(e){o.globals=e})];return r&&a.push(r),w.all(a).then(function(){var e=[];return G(i.views,function(r,n){var a=r.resolve&&r.resolve!==i.resolve?r.resolve:{};a.$template=[function(){return l.load(n,{view:r,locals:o.globals,params:s,notify:u.notify})||""}],e.push(c.resolve(a,o.globals,o.resolve,i).then(function(e){if(K(r.controllerProvider)||Y(r.controllerProvider)){var t=V.extend({},a,o.globals);e.$$controller=b.invoke(r.controllerProvider,null,t)}else e.$$controller=r.controller;e.$$state=i,e.$$controllerAs=r.controllerAs,o[n]=e}))}),w.all(e).then(function(){return o.globals})}).then(function(e){return o})}var P=w.reject(new Error("transition superseded")),j=w.reject(new Error("transition prevented")),A=w.reject(new Error("transition aborted")),O=w.reject(new Error("transition failed"));return q.locals={resolve:null,globals:{$stateParams:{}}},(C={params:{},current:q.self,$current:q,transition:null,reload:function(e){return C.transitionTo(C.current,S,{reload:e||!0,inherit:!1,notify:!0})},go:function(e,t,r){return C.transitionTo(e,t,H({inherit:!0,relative:C.$current},r))}}).transitionTo=function(n,a,i){a=a||{},i=H({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},i||{});var o=C.$current,u=C.params,s=o.path,e=k(n,i.relative),t=a["#"];if(!J(e)){var r={to:n,toParams:a,options:i},l=function(e,t,r,n){var a=y.$broadcast("$stateNotFound",e,t,r);if(a.defaultPrevented)return E.update(),A;if(!a.retry)return null;if(n.$retry)return E.update(),O;var i=C.transition=w.when(a.retry);return i.then(function(){return i!==C.transition?P:(e.options.$retry=!0,C.transitionTo(e.to,e.toParams,e.options))},function(){return A}),E.update(),i}(r,o.self,u,i);if(l)return l;if(a=r.toParams,e=k(n=r.to,(i=r.options).relative),!J(e)){if(!i.relative)throw new Error("No such state '"+n+"'");throw new Error("Could not resolve '"+n+"' from state '"+i.relative+"'")}}if(e[I])throw new Error("Cannot transition to abstract state '"+n+"'");if(i.inherit&&(a=F(S,a||{},C.$current,e)),!e.params.$$validates(a))return O;a=e.params.$$values(a);var c=(n=e).path,f=0,p=c[f],h=q.locals,v=[];if(i.reload){if(L(i.reload)||_(i.reload)){if(_(i.reload)&&!i.reload.name)throw new Error("Invalid reload state object");var $=!0===i.reload?s[0]:k(i.reload);if(i.reload&&!$)throw new Error("No such reload state '"+(L(i.reload)?i.reload:i.reload.name)+"'");for(;p&&p===s[f]&&p!==$;)h=v[f]=p.locals,p=c[++f]}}else for(;p&&p===s[f]&&p.ownParams.$$equals(a,u);)h=v[f]=p.locals,p=c[++f];if(function(e,t,r,n,a,i){return!(i.reload||e!==r||!(a===r.locals||!1===e.self.reloadOnSearch&&function(t,e,r){function n(e){return"search"!=t.params[e].location}var a=t.params.$$keys().filter(n),i=T.apply({},[t.params].concat(a));return new B.ParamSet(i).$$equals(e,r)}(r,n,t)))||void 0}(n,a,o,u,h,i))return t&&(a["#"]=t),C.params=a,X(C.params,S),X(U(n.params.$$keys(),S),n.locals.globals.$stateParams),i.location&&n.navigable&&n.navigable.url&&(E.push(n.navigable.url,a,{$$avoidResync:!0,replace:"replace"===i.location}),E.update(!0)),C.transition=null,w.when(C.current);if(a=U(n.params.$$keys(),a||{}),t&&(a["#"]=t),i.notify&&y.$broadcast("$stateChangeStart",n.self,a,o.self,u,i).defaultPrevented)return y.$broadcast("$stateChangeCancel",n.self,a,o.self,u),null==C.transition&&E.update(),j;for(var d=w.when(h),m=f;m<c.length;p=c[++m])h=v[m]=D(h),d=x(p,a,p===n,d,h,i);var g=C.transition=d.then(function(){var e,t,r;if(C.transition!==g)return P;for(e=s.length-1;f<=e;e--)(r=s[e]).self.onExit&&b.invoke(r.self.onExit,r.self,r.locals.globals),r.locals=null;for(e=f;e<c.length;e++)(t=c[e]).locals=v[e],t.self.onEnter&&b.invoke(t.self.onEnter,t.self,t.locals.globals);return C.transition!==g?P:(C.$current=n,C.current=n.self,C.params=a,X(C.params,S),C.transition=null,i.location&&n.navigable&&E.push(n.navigable.url,n.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===i.location}),i.notify&&y.$broadcast("$stateChangeSuccess",n.self,a,o.self,u),E.update(!0),C.current)},function(e){return C.transition!==g?P:(C.transition=null,y.$broadcast("$stateChangeError",n.self,a,o.self,u,e).defaultPrevented||E.update(),w.reject(e))});return g},C.is=function(e,t,r){var n=k(e,(r=H({relative:C.$current},r||{})).relative);return J(n)?C.$current===n&&(!t||s(n.params.$$values(t),S)):M},C.includes=function(e,t,r){if(r=H({relative:C.$current},r||{}),L(e)&&function(e){return-1<e.indexOf("*")}(e)){if(!function(e){for(var t=e.split("."),r=C.$current.name.split("."),n=0,a=t.length;n<a;n++)"*"===t[n]&&(r[n]="*");return"**"===t[0]&&(r=r.slice(R(r,t[1]))).unshift("**"),"**"===t[t.length-1]&&(r.splice(R(r,t[t.length-2])+1,Number.MAX_VALUE),r.push("**")),t.length==r.length&&r.join("")===t.join("")}(e))return!1;e=C.$current.name}var n=k(e,r.relative);return J(n)?!!J(C.$current.includes[n.name])&&(!t||s(n.params.$$values(t),S,N(t))):M},C.href=function(e,t,r){var n=k(e,(r=H({lossy:!0,inherit:!0,absolute:!1,relative:C.$current},r||{})).relative);if(!J(n))return null;r.inherit&&(t=F(S,t||{},C.$current,n));var a=n&&r.lossy?n.navigable:n;return a&&a.url!==M&&null!==a.url?E.href(a.url,U(n.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},C.get=function(e,t){if(0===arguments.length)return z(N(f),function(e){return f[e].self});var r=k(e,t||C.$current);return r&&r.self?r.self:null},C}var q,C,f={},o={},I="abstract",u={parent:function(e){if(J(e.parent)&&e.parent)return k(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?k(t[1]):q},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=D(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,r={params:e.params||{}};if(L(t))return"^"==t.charAt(0)?n.compile(t.substring(1),r):(e.parent.navigable||q).url.concat(t,r);if(!t||n.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var r=e.url&&e.url.params||new B.ParamSet;return G(e.params||{},function(e,t){r[t]||(r[t]=new B.Param(t,null,e,"config"))}),r},params:function(e){var t=T(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?H(e.parent.params.$$new(),t):new B.ParamSet},views:function(r){var n={};return G(J(r.views)?r.views:{"":r},function(e,t){t.indexOf("@")<0&&(t+="@"+r.parent.name),n[t]=e}),n},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?H({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};(q=i({name:"",url:"^",views:null,abstract:!0})).navigable=null,this.decorator=function(e,t){return L(e)&&!J(t)?u[e]:(K(t)&&L(e)&&(u[e]&&!u.$delegates[e]&&(u.$delegates[e]=u[e]),u[e]=t),this)},this.state=function(e,t){return _(e)?t=e:t.name=e,i(t),this},(this.$get=e).$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function i(){function e(e,n){return{load:function(e,t){var r;return(t=H({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},t)).view&&(r=n.fromConfig(t.view,t.params,t.locals)),r}}}(this.$get=e).$inject=["$rootScope","$templateFactory"]}function o($,t,d,m){var e=t.has?function(e){return t.has(e)?t.get(e):null}:function(e){try{return t.get(e)}catch(e){return null}},r=e("$animator"),g=e("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,t,v){return function(a,i,o){function e(e){var t,r=y(a,o,i,m),n=r&&$.$current&&$.$current.locals[r];!e&&n===c||a._willBeDestroyed||(t=a.$new(),c=$.$current.locals[r],t.$emit("$viewContentLoading",r),s=v(t,function(e){h.enter(e,i,function(){l&&l.$emit("$viewContentAnimationEnded"),(V.isDefined(p)&&!p||a.$eval(p))&&d(e)}),function(){function e(){t&&t.remove(),r&&r.$destroy()}var t=u,r=l;r&&(r._willBeDestroyed=!0),u=s?(h.leave(s,function(){e(),u=null}),s):(e(),null),l=s=null}()}),(l=t).$emit("$viewContentLoaded",r),l.$eval(f))}var u,s,l,c,f=o.onload||"",p=o.autoscroll,h=function(e,t){function n(e){return 1===E&&4<=j?!!g.enabled(e):1===E&&2<=j?!!g.enabled():!!r}var a={enter:function(e,t,r){t.after(e),r()},leave:function(e,t){e.remove(),t()}};if(e.noanimation)return a;if(g)return{enter:function(e,t,r){n(e)?2<V.version.minor?g.enter(e,null,t).then(r):g.enter(e,null,t,r):a.enter(e,t,r)},leave:function(e,t){n(e)?2<V.version.minor?g.leave(e).then(t):g.leave(e,t):a.leave(e,t)}};if(r){var i=r&&r(t,e);return{enter:function(e,t,r){i.enter(e,null,t),r()},leave:function(e,t){i.leave(e),t()}}}return a}(o,a);a.$on("$stateChangeSuccess",function(){e(!1)}),e(!0)}}}}function u(l,c,f,p){return{restrict:"ECA",priority:-400,compile:function(e){var s=e.html();return function(e,t,r){var n=f.$current,a=y(e,r,t,p),i=n&&n.locals[a];if(i){t.data("$uiView",{name:a,state:i.$$state}),t.html(i.$template?i.$template:s);var o=l(t.contents());if(i.$$controller){i.$scope=e,i.$element=t;var u=c(i.$$controller,i);i.$$controllerAs&&(e[i.$$controllerAs]=u),t.data("$ngControllerController",u),t.children().data("$ngControllerController",u)}o(e)}}}}}function y(e,t,r,n){var a=n(t.uiView||t.name||"")(e),i=r.inheritedData("$uiView");return 0<=a.indexOf("@")?a:a+"@"+(i?i.state.name:"")}function v(e,t){var r,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e=t+"("+n[1]+")"),!(r=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==r.length)throw new Error("Invalid state ref '"+e+"'");return{state:r[1],paramExpr:r[3]||null}}function $(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function f(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),r="FORM"===e[0].nodeName;return{attr:r?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!r}}function p(i,o,u,s,l){return function(e){var t=e.which||e.button,r=l();if(!(1<t||e.ctrlKey||e.metaKey||e.shiftKey||i.attr("target"))){var n=u(function(){o.go(r.state,r.params,r.options)});e.preventDefault();var a=s.isAnchor&&!r.href?1:0;e.preventDefault=function(){a--<=0&&u.cancel(n)}}}}function c(l,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,t,r,n){var a=v(r.uiSref,l.current.name),i={state:a.state,href:null,params:null},o=f(t),u=n[1]||n[0];i.options=H(function(e,t){return{relative:$(e)||t.$current,inherit:!0}}(t,l),r.uiSrefOpts?e.$eval(r.uiSrefOpts):{});function s(e){e&&(i.params=V.copy(e)),i.href=l.href(a.state,i.params,i.options),u&&u.$$addStateInfo(a.state,i.params),null!==i.href&&r.$set(o.attr,i.href)}a.paramExpr&&(e.$watch(a.paramExpr,function(e){e!==i.params&&s(e)},!0),i.params=V.copy(e.$eval(a.paramExpr))),s(),o.clickable&&t.bind("click",p(t,l,c,o,function(){return i}))}}}function h(l,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,t,r,n){function a(e){s.state=e[0],s.params=e[1],s.options=e[2],s.href=l.href(s.state,s.params,s.options),o&&o.$$addStateInfo(s.state,s.params),s.href&&r.$set(i.attr,s.href)}var i=f(t),o=n[1]||n[0],u="["+[r.uiState,r.uiStateParams||null,r.uiStateOpts||null].map(function(e){return e||"null"}).join(", ")+"]",s={state:null,params:null,options:null,href:null};e.$watch(u,a,!0),a(e.$eval(u)),i.clickable&&t.bind("click",p(t,l,c,i,function(){return s}))}}}function d(h,e,t){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(i,o,e,r){function n(e,t,r){var n=h.get(e,$(o)),a=function(e,t){if(!L(e))throw new Error("state should be a string");return _(t)?e+w(t):(t=i.$eval(t),_(t)?e+w(t):e)}(e,t);f.push({state:n||{name:e},params:t,hash:a}),p[a]=r}function a(){for(var e=0;e<f.length;e++)n=f[e].state,a=f[e].params,h.includes(n.name,a)?u(o,p[f[e].hash]):s(o,p[f[e].hash]),t=f[e].state,r=f[e].params,h.is(t.name,r)?u(o,l):s(o,l);var t,r,n,a}function u(e,t){r(function(){e.addClass(t)})}function s(e,t){e.removeClass(t)}var l,c,f=[],p={};l=t(e.uiSrefActiveEq||"",!1)(i);try{c=i.$eval(e.uiSrefActive)}catch(e){}c=c||t(e.uiSrefActive||"",!1)(i),_(c)&&G(c,function(e,t){if(L(e)){var r=v(e,h.current.name);n(r.state,i.$eval(r.paramExpr),t)}}),this.$$addStateInfo=function(e,t){_(c)&&0<f.length||(n(e,t,c),a())},i.$on("$stateChangeSuccess",a),a()}]}}function m(r){function e(e,t){return r.is(e,t)}return e.$stateful=!0,e}function g(n){function e(e,t,r){return n.includes(e,t,r)}return e.$stateful=!0,e}var B,J=V.isDefined,K=V.isFunction,L=V.isString,_=V.isObject,Y=V.isArray,G=V.forEach,H=V.extend,X=V.copy,w=V.toJson;V.module("ui.router.util",["ng"]),V.module("ui.router.router",["ui.router.util"]),V.module("ui.router.state",["ui.router.router","ui.router.util"]),V.module("ui.router",["ui.router.state"]),V.module("ui.router.compat",["ui.router"]),t.$inject=["$q","$injector"],V.module("ui.router.util").service("$resolve",t),r.$inject=["$http","$templateCache","$injector"],V.module("ui.router.util").service("$templateFactory",r),l.prototype.concat=function(e,t){var r={caseInsensitive:B.caseInsensitive(),strict:B.strictMode(),squash:B.defaultSquashPolicy()};return new l(this.sourcePath+e+this.sourceSearch,H(r,t),this)},l.prototype.toString=function(){return this.source},l.prototype.exec=function(e,t){var r=this.regexp.exec(e);if(!r)return null;t=t||{};var n,a,i,o,u,s=this.parameters(),l=s.length,c=this.segments.length-1,f={};if(c!=r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(n=0;n<c;n++){for(i=s[n],o=this.params[i],u=r[n+1],a=0;a<o.replace.length;a++)o.replace[a].from===u&&(u=o.replace[a].to);u&&!0===o.array&&(u=z(z(p(u).split(/-(?!\\)/),p),function(e){return e.replace(/\\-/g,"-")}).reverse()),J(u)&&(u=o.type.decode(u)),f[i]=o.value(u)}function p(e){return e.split("").reverse().join("")}for(;n<l;n++){for(f[i=s[n]]=this.params[i].value(t[i]),o=this.params[i],u=t[i],a=0;a<o.replace.length;a++)o.replace[a].from===u&&(u=o.replace[a].to);J(u)&&(u=o.type.decode(u)),f[i]=o.value(u)}return f},l.prototype.parameters=function(e){return J(e)?this.params[e]||null:this.$$paramNames},l.prototype.validates=function(e){return this.params.$$validates(e)},l.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var r=this.segments,n=this.parameters(),a=this.params;if(!this.validates(e))return null;var i,o=!1,u=r.length-1,s=n.length,l=r[0];for(i=0;i<s;i++){var c=i<u,f=n[i],p=a[f],h=p.value(e[f]),v=p.isOptional&&p.type.equals(p.value(),h),$=!!v&&p.squash,d=p.type.encode(h);if(c){var m=r[i+1],g=i+1===u;if(!1===$)null!=d&&(l+=Y(d)?z(d,t).join("-"):encodeURIComponent(d)),l+=m;else if(!0===$){var y=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=m.match(y)[1]}else L($)&&(l+=$+m);g&&!0===p.squash&&"/"===l.slice(-1)&&(l=l.slice(0,-1))}else{if(null==d||v&&!1!==$)continue;if(Y(d)||(d=[d]),0===d.length)continue;l+=(o?"&":"?")+f+"="+(d=z(d,encodeURIComponent).join("&"+f+"=")),o=!0}}return l},P.prototype.is=function(e,t){return!0},P.prototype.encode=function(e,t){return e},P.prototype.decode=function(e,t){return e},P.prototype.equals=function(e,t){return e==t},P.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},P.prototype.pattern=/.*/,P.prototype.toString=function(){return"{Type:"+this.name+"}"},P.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},P.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new function(e,a){function t(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return Y(e)?e:J(e)?[e]:[]}function o(e){return!e}function r(r,n){return function(e){if(Y(e)&&0===e.length)return e;var t=z(e=i(e),r);return!0===n?0===x(t,o).length:function(e){switch(e.length){case 0:return M;case 1:return"auto"===a?e[0]:e;default:return e}}(t)}}var u;this.encode=r(t(e,"encode")),this.decode=r(t(e,"decode")),this.is=r(t(e,"is"),!0),this.equals=(u=t(e,"equals"),function(e,t){var r=i(e),n=i(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!u(r[a],n[a]))return!1;return!0}),this.pattern=e.pattern,this.$normalize=r(t(e,"$normalize")),this.name=e.name,this.$arrayMode=a}(this,e)},V.module("ui.router.util").provider("$urlMatcherFactory",function e(){function t(e){return null!=e?e.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):e}function w(e){return K(e)||Y(e)&&K(e[e.length-1])}function n(){for(;u.length;){var e=u.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");V.extend(E[e.name],b.invoke(e.def))}}function a(e){H(this,e||{})}B=this;var b,r=!1,i=!0,S=!1,E={},o=!0,u=[],s={string:{encode:t,decode:function(e){return null!=e?e.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):e},is:function(e){return null==e||!J(e)||"string"==typeof e},pattern:/[^\/]*/},int:{encode:t,decode:function(e){return parseInt(e,10)},is:function(e){return J(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return!0===e||!1===e},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):M},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):M},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:V.toJson,decode:V.fromJson,is:V.isObject,equals:V.equals,pattern:/[^\/]*/},any:{encode:V.identity,decode:V.identity,equals:V.equals,pattern:/.*/}};e.$$getDefaultValue=function(e){if(!w(e.value))return e.value;if(!b)throw new Error("Injectable functions cannot be called at configuration time");return b.invoke(e.value)},this.caseInsensitive=function(e){return J(e)&&(r=e),r},this.strictMode=function(e){return J(e)&&(i=e),i},this.defaultSquashPolicy=function(e){if(!J(e))return S;if(!0!==e&&!1!==e&&!L(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return S=e},this.compile=function(e,t){return new l(e,H({strict:i,caseInsensitive:r},t))},this.isMatcher=function(r){if(!_(r))return!1;var n=!0;return G(l.prototype,function(e,t){K(e)&&(n=n&&J(r[t])&&K(r[t]))}),n},this.type=function(e,t,r){if(!J(t))return E[e];if(E.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return E[e]=new P(H({name:e},t)),r&&(u.push({name:e,def:r}),o||n()),this},G(s,function(e,t){E[t]=new P(H({name:t},e))}),E=D(E,{}),this.$get=["$injector",function(e){return b=e,o=!1,n(),G(s,function(e,t){E[t]||(E[t]=new P(e))}),this}],this.Param=function(n,e,a,t){var r,i,o=this;-1===R(i=_(r=a)?N(r):[],"value")&&-1===R(i,"type")&&-1===R(i,"squash")&&-1===R(i,"array")&&(r={value:r}),r.$$fn=w(r.value)?r.value:function(){return r.value},e=function(e,t,r){if(e.type&&t)throw new Error("Param '"+n+"' has two type configurations.");return t||(e.type?V.isString(e.type)?E[e.type]:e.type instanceof P?e.type:new P(e.type):"config"===r?E.any:E.string)}(a=r,e,t);var u,s,l=(u={array:"search"===t&&"auto"},s=n.match(/\[\]$/)?{array:!0}:{},H(u,s,a).array);"string"!==(e=l?e.$asArray(l,"search"===t):e).name||l||"path"!==t||a.value!==M||(a.value="");var c,f,p,h,v,$,d,m=a.value!==M,g=function(e,t){var r=e.squash;if(!t||!1===r)return!1;if(!J(r)||null==r)return S;if(!0===r||L(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}(a,m),y=(f=l,h=g,d=[{from:"",to:(p=m)||f?M:""},{from:null,to:p||f?M:""}],v=Y((c=a).replace)?c.replace:[],L(h)&&v.push({from:h,to:M}),$=z(v,function(e){return e.from}),x(d,function(e){return-1===R($,e.from)}).concat(v));H(this,{id:n,type:e,location:t,array:l,squash:g,replace:y,isOptional:m,value:function(e){return t=e,e=(r=z(x(o.replace,function(t){return function(e){return e.from===t}}(t)),function(e){return e.to})).length?r[0]:t,J(e)?o.type.$normalize(e):function(){if(!b)throw new Error("Injectable functions cannot be called at configuration time");var e=b.invoke(a.$$fn);if(null!==e&&e!==M&&!o.type.is(e))throw new Error("Default value ("+e+") for parameter '"+o.id+"' is not an instance of Type ("+o.type.name+")");return e}();var t,r},dynamic:M,config:a,toString:function(){return"{Param:"+n+" "+e+" squash: '"+g+"' optional: "+m+"}"}})},a.prototype={$$new:function(){return D(this,H(new a,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],r=this,n=N(a.prototype);r;)e.push(r),r=r.$$parent;return e.reverse(),G(e,function(e){G(N(e),function(e){-1===R(t,e)&&-1===R(n,e)&&t.push(e)})}),t},$$values:function(t){var r={},n=this;return G(n.$$keys(),function(e){r[e]=n[e].value(t&&t[e])}),r},$$equals:function(n,a){var i=!0,o=this;return G(o.$$keys(),function(e){var t=n&&n[e],r=a&&a[e];o[e].type.equals(t,r)||(i=!1)}),i},$$validates:function(e){var t,r,n,a,i,o=this.$$keys();for(t=0;t<o.length&&(r=this[o[t]],(n=e[o[t]])!==M&&null!==n||!r.isOptional);t++){if(a=r.type.$normalize(n),!r.type.is(a))return!1;if(i=r.type.encode(a),V.isString(i)&&!r.type.pattern.exec(i))return!1}return!0},$$parent:M},this.ParamSet=a}),V.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),n.$inject=["$locationProvider","$urlMatcherFactoryProvider"],V.module("ui.router.router").provider("$urlRouter",n),a.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],V.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",a),i.$inject=[],V.module("ui.router.state").provider("$view",i),V.module("ui.router.state").provider("$uiViewScroll",function(){var r=!1;this.useAnchorScroll=function(){r=!0},this.$get=["$anchorScroll","$timeout",function(e,t){return r?e:function(e){return t(function(){e[0].scrollIntoView()},0,!1)}}]});var E=V.version.major,j=V.version.minor;o.$inject=["$state","$injector","$uiViewScroll","$interpolate"],u.$inject=["$compile","$controller","$state","$interpolate"],V.module("ui.router.state").directive("uiView",o),V.module("ui.router.state").directive("uiView",u),c.$inject=["$state","$timeout"],h.$inject=["$state","$timeout"],d.$inject=["$state","$stateParams","$interpolate"],V.module("ui.router.state").directive("uiSref",c).directive("uiSrefActive",d).directive("uiSrefActiveEq",d).directive("uiState",h),m.$inject=["$state"],g.$inject=["$state"],V.module("ui.router.state").filter("isState",m).filter("includedByState",g)}(window,window.angular);