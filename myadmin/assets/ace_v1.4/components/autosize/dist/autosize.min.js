!function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var n={exports:{}};t(n.exports,n),e.autosize=n.exports}}(this,function(e,t){"use strict";function n(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=y("autosize:destroy");e.dispatchEvent(t)}}function o(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=y("autosize:update");e.dispatchEvent(t)}}var i,h="function"==typeof Set?new Set:(i=[],{has:function(e){return Boolean(-1<i.indexOf(e))},add:function(e){i.push(e)},delete:function(e){i.splice(i.indexOf(e),1)}}),y=function(e){return new Event(e)};try{new Event("test")}catch(e){y=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var r=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((r=function(e){return e}).destroy=function(e){return e},r.update=function(e){return e}):((r=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return function(i){function n(e){var t=i.style.width;i.style.width="0px",i.offsetWidth,i.style.width=t,f=e,a&&(i.style.overflowY=e),o()}function o(){var e=window.pageYOffset,t=document.body.scrollTop,n=i.style.height;i.style.height="auto";var o=i.scrollHeight+u;return 0===i.scrollHeight?void(i.style.height=n):(i.style.height=o+"px",c=i.clientWidth,document.documentElement.scrollTop=e,void(document.body.scrollTop=t))}function e(){var e=i.style.height;if(o(),window.getComputedStyle(i,null).height!==i.style.height?"visible"!==f&&n("visible"):"hidden"!==f&&n("hidden"),e!==i.style.height){var t=y("autosize:resized");i.dispatchEvent(t)}}var t,r=void 0===arguments[1]?{}:arguments[1],d=r.setOverflowX,s=void 0===d||d,l=r.setOverflowY,a=void 0===l||l;if(i&&i.nodeName&&"TEXTAREA"===i.nodeName&&!h.has(i)){var u=null,f=null,c=i.clientWidth,p=function(){i.clientWidth!==c&&e()},v=function(t){window.removeEventListener("resize",p,!1),i.removeEventListener("input",e,!1),i.removeEventListener("keyup",e,!1),i.removeEventListener("autosize:destroy",v,!1),i.removeEventListener("autosize:update",e,!1),h.delete(i),Object.keys(t).forEach(function(e){i.style[e]=t[e]})}.bind(i,{height:i.style.height,resize:i.style.resize,overflowY:i.style.overflowY,overflowX:i.style.overflowX,wordWrap:i.style.wordWrap});i.addEventListener("autosize:destroy",v,!1),"onpropertychange"in i&&"oninput"in i&&i.addEventListener("keyup",e,!1),window.addEventListener("resize",p,!1),i.addEventListener("input",e,!1),i.addEventListener("autosize:update",e,!1),h.add(i),s&&(i.style.overflowX="hidden",i.style.wordWrap="break-word"),t=window.getComputedStyle(i,null),f=t.overflowY,"vertical"===t.resize?i.style.resize="none":"both"===t.resize&&(i.style.resize="horizontal"),u="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(u)&&(u=0),e()}}(e,t)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],n),e},r.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e}),t.exports=r});