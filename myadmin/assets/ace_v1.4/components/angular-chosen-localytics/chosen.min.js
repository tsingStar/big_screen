(function(){var m=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("localytics.directives",[]),angular.module("localytics.directives").directive("chosen",["$timeout",function($){var v,w,b,y;return w=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,v=["noResultsText","allowSingleDeselect","disableSearchThreshold","disableSearch","enableSplitWordSearch","inheritSelectClasses","maxSelectedOptions","placeholderTextMultiple","placeholderTextSingle","searchContains","singleBackstrokeDelete","displayDisabledOptions","displaySelectedOptions","width"],y=function(e){return e.replace(/[A-Z]/g,function(e){return"_"+e.toLowerCase()})},b=function(e){var t;if(angular.isArray(e))return 0===e.length;if(angular.isObject(e))for(t in e)if(e.hasOwnProperty(t))return!1;return!0},{restrict:"A",require:"?ngModel",priority:1,link:function(n,e,t,r){var i,a,s,l,o,u,c,d,f,h,g,p;return e.addClass("localytics-chosen"),u=n.$eval(t.chosen)||{},angular.forEach(t,function(e,t){return 0<=m.call(v,t)?u[y(t)]=n.$eval(e):void 0}),f=function(){return e.addClass("loading").attr("disabled",!0).trigger("chosen:updated")},a=i=null,l=!(h=function(){return e.removeClass("loading").attr("disabled",!1).trigger("chosen:updated")}),o=function(){return i?e.trigger("chosen:updated"):(i=e.chosen(u).data("chosen"),a=i.default_text)},d=function(){return l=!1,e.attr("data-placeholder",a)},s=function(){return l=!0,e.attr("data-placeholder",i.results_none_found).attr("disabled",!0).trigger("chosen:updated")},r?(c=r.$render,r.$render=function(){return c(),o()},t.multiple&&(p=function(){return r.$viewValue},n.$watch(p,r.$render,!0))):o(),t.$observe("disabled",function(){return e.trigger("chosen:updated")}),t.ngOptions&&r?(g=t.ngOptions.match(w)[7],n.$watchCollection(g,function(e,t){return $(function(){return angular.isUndefined(e)?f():(l&&d(),h(),b(e)?s():void 0)})}),n.$on("$destroy",function(e){return"undefined"!=typeof timer&&null!==timer?$.cancel(timer):void 0})):void 0}}}])}).call(this);