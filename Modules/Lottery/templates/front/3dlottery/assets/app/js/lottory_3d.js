var camera,scene,renderer,controls,oss=[],targets={grid:[]};function init(){(camera=new THREE.PerspectiveCamera(40,window.innerWidth/window.innerHeight,1,1e5)).position.z=2800,scene=new THREE.Scene;for(var e=0;e<table.length;e++){var n=document.createElement("div");n.className="element";var i=document.createElement("img");i.src=table[e].src,12!=e&&37!=e&&62!=e&&87!=e&&112!=e||(i.style.width=i.style.height="300px"),n.appendChild(i),(r=new THREE.CSS3DObject(n)).position.x=e%5*600-1200,r.position.y=-Math.floor(e/5)%5*400+800,r.position.z=200-60*e*1.5,scene.add(r),oss.push(r)}for(var t=new THREE.Vector3,o=(e=0,oss.length);e<o;e++){var r;(r=new THREE.Object3D).position.x=e%5*600-1200,r.position.y=-Math.floor(e/5)%5*400+800,r.position.z=200-60*e*1.5,t.x=r.position.x,t.y=r.position.y,t.z=r.position.z,r.lookAt(t),targets.grid.push(r)}(renderer=new THREE.CSS3DRenderer).setSize(window.innerWidth,window.innerHeight),renderer.domElement.style.position="absolute",renderer.domElement.className="abc",document.getElementById("container").appendChild(renderer.domElement),window.addEventListener("resize",onWindowResize,!1)}function transform(e,n,i,t){TWEEN.removeAll(),scene_init();for(var o=0;o<oss.length;o++){var r=oss[o],s=e[o];new TWEEN.Tween(r.position).to({x:s.position.x,y:s.position.y,z:s.position.z},n).easing(TWEEN.Easing.Exponential.InOut).start(),new TWEEN.Tween(r.position).to({x:s.position.x,y:s.position.y,z:s.position.z},1e3).delay(195e3).start()}new TWEEN.Tween(this).to({},1e6).onUpdate(function(){render(i)}).start()}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight),render()}function animate(){window.requestAnimationFrame(animate),TWEEN.update()}function scene_init(){scene.position.x=0,scene.position.y=0,scene.position.z=0}function update(){for(var e=0;e<oss.length;e++){var n=oss[e];n.position.z+=180,800<n.position.z&&(n.position.z=200-60*(oss.length-1)*1.5)}}function render(e){"grid"==e&&update(),renderer.render(scene,camera)}