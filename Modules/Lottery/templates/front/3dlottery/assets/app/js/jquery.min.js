!function(b){b.fn.__bind__=b.fn.bind,b.fn.__unbind__=b.fn.unbind,b.fn.__find__=b.fn.find;var v={version:"0.7.9",override:/keypress|keydown|keyup/g,triggersMap:{},specialKeys:{27:"esc",9:"tab",32:"space",13:"return",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",109:"-",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",191:"/"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},newTrigger:function(t,r,e){var i={};return i[t]={},i[t][r]={cb:e,disableInInput:!1},i}};v.specialKeys=b.extend(v.specialKeys,{96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/"}),b.fn.find=function(t){return this.query=t,b.fn.__find__.apply(this,arguments)},b.fn.unbind=function(t,r,e){if(b.isFunction(r)&&(e=r,r=null),r&&"string"==typeof r)for(var i=(this.prevObject&&this.prevObject.query||this[0].id&&this[0].id||this[0]).toString(),n=t.split(" "),s=0;s<n.length;s++)delete v.triggersMap[i][n[s]][r];return this.__unbind__(t,e)},b.fn.bind=function(t,r,e){var i=t.match(v.override);if(b.isFunction(r)||!i)return this.__bind__(t,r,e);var n=null,s=b.trim(t.replace(v.override,""));if(s&&(n=this.__bind__(s,r,e)),"string"==typeof r&&(r={combi:r}),r.combi)for(var a=0;a<i.length;a++){var f=i[a],o=r.combi.toLowerCase(),p=v.newTrigger(f,o,e),d=(this.prevObject&&this.prevObject.query||this[0].id&&this[0].id||this[0]).toString();p[f][o].disableInInput=r.disableInInput,v.triggersMap[d]?v.triggersMap[d][f]||(v.triggersMap[d][f]=p[f]):v.triggersMap[d]=p;var h=v.triggersMap[d][f][o];h?h.constructor!==Array?v.triggersMap[d][f][o]=[h]:v.triggersMap[d][f][o][h.length]=p[f][o]:v.triggersMap[d][f][o]=[p[f][o]],this.each(function(){var t=b(this);t.attr("hkId")&&t.attr("hkId")!==d&&(d=t.attr("hkId")+";"+d),t.attr("hkId",d)}),n=this.__bind__(i.join(" "),r,v.handler)}return n},v.findElement=function(t){if(!b(t).attr("hkId")&&(b.browser.opera||b.browser.safari))for(;!b(t).attr("hkId")&&t.parentNode;)t=t.parentNode;return t},v.handler=function(t){var r=v.findElement(t.currentTarget),e=b(r),i=e.attr("hkId");if(i){i=i.split(";");for(var n=t.which,s=t.type,a=v.specialKeys[n],f=!a&&String.fromCharCode(n).toLowerCase(),o=t.shiftKey,p=t.ctrlKey,d=t.altKey||t.originalEvent.altKey,h=null,u=0;u<i.length;u++)if(v.triggersMap[i[u]][s]){h=v.triggersMap[i[u]][s];break}if(h){var g;if(o||p||d){var l="";d&&(l+="alt+"),p&&(l+="ctrl+"),o&&(l+="shift+"),(g=h[l+a])||f&&(g=h[l+f]||h[l+v.shiftNums[f]]||"shift+"===l&&h[v.shiftNums[f]])}else g=h[a]||f&&h[f];if(g){var c=!1;for(u=0;u<g.length;u++){if(g[u].disableInInput){var _=b(t.target);if(e.is("input")||e.is("textarea")||e.is("select")||_.is("input")||_.is("textarea")||_.is("select"))return!0}c=c||g[u].cb.apply(this,[t])}return c}}}},window.hotkeys=v}(jQuery);