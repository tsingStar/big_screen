!function(c){c.fn.barrager=function(r){r=c.extend({close:!0,bottom:0,max:10,speed:8,color:"#fff",old_ie_color:"#000000"},r||{});var e="barrage_"+(new Date).getTime(),a="#"+e,o=c("<div class='barrage' id='"+e+"'></div>").appendTo(c(this)),i=c(window).height()-100,t=i>this.height()?this.height():i,n=c(window).width()+500,d=n>this.width()?this.width():n,s=0==r.bottom?Math.floor(Math.random()*t+40):r.bottom;o.css("bottom",s+"px"),div_barrager_box=c("<div class='barrage_box cl'></div>").appendTo(o),r.img&&(div_barrager_box.append("<a class='portrait z' href='javascript:;'></a>"),c("<img src='' >").appendTo(a+" .barrage_box .portrait").attr("src",r.img));div_barrager_box.append(" <div class='z p'></div>"),r.close&&div_barrager_box.append(" <div class='close z'></div>");var g=c("<a title='' href='' target='_blank'></a>").appendTo(a+" .barrage_box .p");g.attr({href:r.href,id:r.id}).empty().append(r.info),0<navigator.userAgent.indexOf("MSIE 6.0")||0<navigator.userAgent.indexOf("MSIE 7.0")||0<navigator.userAgent.indexOf("MSIE 8.0")?g.css("color",r.old_ie_color):g.css("color",r.color);o.css("margin-right",0),c(a).animate({right:d},1e3*r.speed,function(){c(a).remove()}),div_barrager_box.mouseover(function(){c(a).stop(!0)}),div_barrager_box.mouseout(function(){c(a).animate({right:d},1e3*r.speed,function(){c(a).remove()})}),c(a+".barrage .barrage_box .close").click(function(){c(a).remove()})},c.fn.barrager.removeAll=function(){c(".barrage").remove()}}(jQuery);