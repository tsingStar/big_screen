var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";function l(t){return"number"==typeof t?[t>>16,t>>8&255,255&t]:""===t||null==t||"none"===t||"string"!=typeof t?r.transparent:r[t]?r[t]:"#"===t.charAt(0)?(4===t.length&&(t="#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)),[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t]):t.match(e)||r.transparent}function _(t,e){var r=t.matrix,s=1e-6,a=r.a,o=r.b,n=r.c,i=r.d,p=e&&t._gsTransform||{skewY:0},h=p.scaleX<0;return p.tx=r.e-(p.ox||0),p.ty=r.f-(p.oy||0),p.scaleX=Math.sqrt(a*a+o*o),p.scaleY=Math.sqrt(i*i+n*n),p.rotation=a||o?Math.atan2(o,a):p.rotation||0,p.skewX=n||i?Math.atan2(n,i)+p.rotation:p.skewX||0,Math.abs(p.skewX)>Math.PI/2&&(h?(p.scaleX*=-1,p.skewX+=p.rotation<=0?Math.PI:-Math.PI,p.rotation+=p.rotation<=0?Math.PI:-Math.PI):(p.scaleY*=-1,p.skewX+=p.skewX<=0?Math.PI:-Math.PI)),p.rotation<s&&p.rotation>-s&&(a||o)&&(p.rotation=0),p.skewX<s&&p.skewX>-s&&(o||n)&&(p.skewX=0),e&&(t._gsTransform=p),p}function g(t,e){return null==t?e:"string"==typeof t&&1===t.indexOf("=")?parseInt(t.charAt(0)+"1",10)*Number(t.substr(2))+e:Number(t)}function y(t,e){var r=-1===t.indexOf("rad")?b:1,s=1===t.indexOf("=");return t=Number(t.replace(c,""))*r,s?t+e:t}var c=/[^\d\-\.]/g,b=Math.PI/180,e=/(\d|\.)+/g,r={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},m={scaleX:1,scaleY:1,tx:1,ty:1,rotation:1,shortRotation:1,skewX:1,skewY:1,scale:1};_gsScope._gsDefine.plugin({propName:"raphael",version:"0.2.2",API:2,init:function(t,e,r){if(!t.attr)return!1;var s,a,o,n,i,p,h;for(s in this._target=t,this._tween=r,this._props=t._gsProps=t._gsProps||{},e)o=e[s],"transform"!==s?m[s]||"pivot"===s?this._parseTransform(t,e):(a=t.attr(s),this._firstPT=n={_next:this._firstPT,t:this._props,p:s,b:a,f:!1,n:"raphael_"+s,r:!1,type:0},"fill"===s||"stroke"===s?(i=l(a),p=l(o),n.e=o,n.s=Number(i[0]),n.c=Number(p[0])-n.s,n.gs=Number(i[1]),n.gc=Number(p[1])-n.gs,n.bs=Number(i[2]),n.bc=Number(p[2])-n.bs,3<i.length||3<p.length?(n.as=i.length<4?1:Number(i[3]),n.ac=(p.length<4?1:Number(p[3]))-n.as,n.type=2):n.type=1):(a="string"==typeof a?parseFloat(a.replace(c,"")):Number(a),"string"==typeof o?(h="="===o.charAt(1),o=parseFloat(o.replace(c,""))):h=!1,n.e=o||0===o?h?o+a:o:e[s],!a&&0!==a||!o&&0!==o||!(n.c=h?o:o-a)?(n.type=-1,n.i=e[s],n.s=n.c=0):n.s=a),this._overwriteProps.push("raphael_"+s),n._next&&(n._next._prev=n)):this._parseTransform(t,o);return!0},set:function(t){for(var e,r=this._firstPT;r;)e=r.c*t+r.s,r.r&&(e=Math.round(e)),r.type?1===r.type?r.t[r.p]="rgb("+(e>>0)+", "+(r.gs+t*r.gc>>0)+", "+(r.bs+t*r.bc>>0)+")":2===r.type?r.t[r.p]="rgba("+(e>>0)+", "+(r.gs+t*r.gc>>0)+", "+(r.bs+t*r.bc>>0)+", "+(r.as+t*r.ac)+")":-1===r.type&&(r.t[r.p]=r.i):r.t[r.p]=e,r=r._next;if(this._target.attr(this._props),this._transform){var s=(r=this._transform).rotation,a=s-r.skewX,o=Math.cos(s)*r.scaleX,n=Math.sin(s)*r.scaleX,i=Math.sin(a)*-r.scaleY,p=Math.cos(a)*r.scaleY,h=1e-6,l=this._pxl,c=this._pyl;n<h&&-h<n&&(n=0),i<h&&-h<i&&(i=0),r.ox=this._pxg-(l*o+c*i),r.oy=this._pyg-(l*n+c*p),this._target.transform("m"+o+","+n+","+i+","+p+","+(r.tx+r.ox)+","+(r.ty+r.oy))}}}).prototype._parseTransform=function(t,e){if(!this._transform){var r,s,a,o,n,i,p,h,l,c=this._transform=_(t,!0),u=1e-6;if("object"==typeof e){if(r={scaleX:g(null!=e.scaleX?e.scaleX:e.scale,c.scaleX),scaleY:g(null!=e.scaleY?e.scaleY:e.scale,c.scaleY),tx:g(e.tx,c.tx),ty:g(e.ty,c.ty)},null!=e.shortRotation){r.rotation="number"==typeof e.shortRotation?e.shortRotation*b:y(e.shortRotation,c.rotation);var f=(r.rotation-c.rotation)%(2*Math.PI);f!==f%Math.PI&&(f+=Math.PI*(f<0?2:-2)),r.rotation=c.rotation+f}else r.rotation=null==e.rotation?c.rotation:"number"==typeof e.rotation?e.rotation*b:y(e.rotation,c.rotation);r.skewX=null==e.skewX?c.skewX:"number"==typeof e.skewX?e.skewX*b:y(e.skewX,c.skewX),r.skewY=null==e.skewY?c.skewY:"number"==typeof e.skewY?e.skewY*b:y(e.skewY,c.skewY),(s=r.skewY-c.skewY)&&(r.skewX+=s,r.rotation+=s),r.skewY<u&&r.skewY>-u&&(r.skewY=0),r.skewX<u&&r.skewX>-u&&(r.skewX=0),r.rotation<u&&r.rotation>-u&&(r.rotation=0),p="string"==typeof(l=e.localPivot||e.globalPivot)?(n=l.split(","),i=Number(n[0]),Number(n[1])):"object"==typeof l?(i=Number(l.x),Number(l.y)):e.localPivot?(i=(n=t.getBBox(!0)).width/2,n.height/2):(i=(n=t.getBBox()).x+n.width/2,n.y+n.height/2),e.localPivot?(h=t.matrix,i+=t.attr("x"),p+=t.attr("y"),this._pxl=i,this._pyl=p,this._pxg=i*h.a+p*h.c+h.e-c.tx,this._pyg=i*h.b+p*h.d+h.f-c.ty):(h=t.matrix.invert(),this._pxl=i*h.a+p*h.c+h.e,this._pyl=i*h.b+p*h.d+h.f,this._pxg=i-c.tx,this._pyg=p-c.ty)}else{if("string"!=typeof e)return;n=this._target.transform(),t.transform(e),r=_(t,!1),t.transform(n)}for(a in m)c[a]!==r[a]&&"shortRotation"!==a&&"scale"!==a&&(this._firstPT=o={_next:this._firstPT,t:c,p:a,s:c[a],c:r[a]-c[a],n:a,f:!1,r:!1,b:c[a],e:r[a],type:0},o._next&&(o._next._prev=o),this._overwriteProps.push("raphael_"+a))}}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();